2020-07-21 00:32:38.552 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 55 ] - Starting BlogApplication on Simon with PID 11596 (D:\developProject\my-project\blog\target\classes started by 吴倩 in D:\developProject\my-project\blog)
2020-07-21 00:32:38.583 [ restartedMain ] - [ DEBUG ] [ com.simon.blog.BlogApplication : 56 ] - Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2020-07-21 00:32:38.584 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 651 ] - No active profile set, falling back to default profiles: default
2020-07-21 00:32:41.024 [ restartedMain ] - [ INFO  ] [ org.apache.coyote.http11.Http11NioProtocol : 173 ] - Initializing ProtocolHandler ["http-nio-8801"]
2020-07-21 00:32:41.025 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardService : 173 ] - Starting service [Tomcat]
2020-07-21 00:32:41.025 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardEngine : 173 ] - Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-07-21 00:32:41.113 [ restartedMain ] - [ INFO  ] [ o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] : 173 ] - Initializing Spring embedded WebApplicationContext
2020-07-21 00:32:41.548 [ restartedMain ] - [ WARN  ] [ c.b.mybatisplus.core.metadata.TableInfoHelper : 301 ] - Can not find table primary key in Class: "com.simon.blog.pojo.BlogTagRelation".
2020-07-21 00:32:43.611 [ restartedMain ] - [ INFO  ] [ org.apache.coyote.http11.Http11NioProtocol : 173 ] - Starting ProtocolHandler ["http-nio-8801"]
2020-07-21 00:32:43.649 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 61 ] - Started BlogApplication in 6.371 seconds (JVM running for 8.695)
2020-07-21 00:33:11.402 [ http-nio-8801-exec-1 ] - [ INFO  ] [ o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] : 173 ] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-07-21 00:33:11.441 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.IndexController.index', args=[{}, org.apache.catalina.connector.RequestFacade@45180f1a]}
2020-07-21 00:33:11.484 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 110 ] - HikariPool-1 - Starting...
2020-07-21 00:33:11.668 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 123 ] - HikariPool-1 - Start completed.
2020-07-21 00:33:11.707 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==>  Preparing: SELECT COUNT(1) FROM t_blog 
2020-07-21 00:33:11.729 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==> Parameters: 
2020-07-21 00:33:11.763 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog LIMIT ?,? 
2020-07-21 00:33:11.765 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==> Parameters: 0(Long), 5(Long)
2020-07-21 00:33:11.783 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - <==      Total: 4
2020-07-21 00:33:11.789 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==>  Preparing: SELECT id,nickName,userName,password,email,avatar,type,createTime FROM t_user WHERE id=? 
2020-07-21 00:33:11.789 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 00:33:11.793 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 00:33:11.795 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.findCountTypeName : 143 ] - ==>  Preparing: select type_name, count(*) as 'count' from t_blog group by type_id order by count(*) DESC limit 5 
2020-07-21 00:33:11.796 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.findCountTypeName : 143 ] - ==> Parameters: 
2020-07-21 00:33:11.802 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.findCountTypeName : 143 ] - <==      Total: 3
2020-07-21 00:33:11.831 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectList : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE (recommend = ?) 
2020-07-21 00:33:11.832 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectList : 143 ] - ==> Parameters: 1(Integer)
2020-07-21 00:33:11.836 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectList : 143 ] - <==      Total: 4
2020-07-21 00:33:11.841 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.findCountTag : 143 ] - ==>  Preparing: select t_tag_id, COUNT(*) AS `count` from t_blog_tag group by t_tag_id order by count(*) DESC LIMIT 10 
2020-07-21 00:33:11.842 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.findCountTag : 143 ] - ==> Parameters: 
2020-07-21 00:33:11.844 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.findCountTag : 143 ] - <==      Total: 4
2020-07-21 00:33:11.845 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==>  Preparing: SELECT id,name FROM t_tag WHERE id=? 
2020-07-21 00:33:11.846 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 00:33:11.847 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 00:33:11.848 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==>  Preparing: SELECT id,name FROM t_tag WHERE id=? 
2020-07-21 00:33:11.849 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==> Parameters: 4(Long)
2020-07-21 00:33:11.850 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 00:33:11.851 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==>  Preparing: SELECT id,name FROM t_tag WHERE id=? 
2020-07-21 00:33:11.852 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==> Parameters: 7(Long)
2020-07-21 00:33:11.853 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 00:33:11.855 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==>  Preparing: SELECT id,name FROM t_tag WHERE id=? 
2020-07-21 00:33:11.855 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==> Parameters: 8(Long)
2020-07-21 00:33:11.856 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 00:33:11.857 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 58 ] - result : index
2020-07-21 00:33:17.520 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.findByUser : 143 ] - ==>  Preparing: select * from t_user where userName=? and password=? 
2020-07-21 00:33:17.521 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.findByUser : 143 ] - ==> Parameters: simon(String), 4297f44b13955235245b2497399d7a93(String)
2020-07-21 00:33:17.524 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.findByUser : 143 ] - <==      Total: 1
2020-07-21 00:33:22.859 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==>  Preparing: SELECT COUNT(1) FROM t_blog 
2020-07-21 00:33:22.860 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==> Parameters: 
2020-07-21 00:33:22.862 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog LIMIT ?,? 
2020-07-21 00:33:22.863 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==> Parameters: 0(Long), 3(Long)
2020-07-21 00:33:22.868 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - <==      Total: 3
2020-07-21 00:33:22.875 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - ==>  Preparing: SELECT id,name FROM t_type 
2020-07-21 00:33:22.875 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - ==> Parameters: 
2020-07-21 00:33:22.893 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - <==      Total: 5
2020-07-21 00:33:31.637 [ http-nio-8801-exec-6 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/blog/1', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.IndexController.blog', args=[{}, 1]}
2020-07-21 00:33:31.639 [ http-nio-8801-exec-6 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==>  Preparing: SELECT id,nickName,userName,password,email,avatar,type,createTime FROM t_user WHERE id=? 
2020-07-21 00:33:31.639 [ http-nio-8801-exec-6 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 00:33:31.641 [ http-nio-8801-exec-6 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 00:33:31.644 [ http-nio-8801-exec-6 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE id=? 
2020-07-21 00:33:31.645 [ http-nio-8801-exec-6 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 00:33:31.648 [ http-nio-8801-exec-6 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 00:33:31.696 [ http-nio-8801-exec-6 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 58 ] - result : blog
2020-07-21 00:33:46.867 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE id=? 
2020-07-21 00:33:46.867 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 00:33:46.869 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 00:33:46.875 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.selectList : 143 ] - ==>  Preparing: SELECT t_blog_id AS blogId,t_tag_id AS tagId FROM t_blog_tag WHERE (t_blog_id = ?) 
2020-07-21 00:33:46.876 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.selectList : 143 ] - ==> Parameters: 1(Long)
2020-07-21 00:33:46.882 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.selectList : 143 ] - <==      Total: 2
2020-07-21 00:33:46.885 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - ==>  Preparing: SELECT id,name FROM t_type 
2020-07-21 00:33:46.885 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - ==> Parameters: 
2020-07-21 00:33:46.887 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - <==      Total: 5
2020-07-21 00:33:46.892 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectList : 143 ] - ==>  Preparing: SELECT id,name FROM t_tag 
2020-07-21 00:33:46.892 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectList : 143 ] - ==> Parameters: 
2020-07-21 00:33:46.896 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectList : 143 ] - <==      Total: 9
2020-07-21 00:35:08.468 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectById : 143 ] - ==>  Preparing: SELECT id,name FROM t_type WHERE id=? 
2020-07-21 00:35:08.468 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectById : 143 ] - ==> Parameters: 6(Long)
2020-07-21 00:35:08.470 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 00:35:08.478 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.deleteAllByBlogId : 143 ] - ==>  Preparing: delete from t_blog_tag where t_blog_id = ? 
2020-07-21 00:35:08.479 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.deleteAllByBlogId : 143 ] - ==> Parameters: 1(Long)
2020-07-21 00:35:08.513 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.update : 143 ] - ==>  Preparing: UPDATE t_blog SET title=?, description=?, content=?, firstPicture=?, flag=?, appreciation=?, shareStatement=?, commentabled=?, published=?, recommend=?, updateTime=?, type_id=?, user_id=?, type_name=? WHERE (id = ?) 
2020-07-21 00:35:08.520 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.update : 143 ] - ==> Parameters: Spring(String), Spring知识点总结(String), **Bean**：在计算编程中，有可重用组件的含义
**JavaBean**：用java语音编写的可重用组件   javaBean > 实体类   他也是一种规范

**IOC的作用**：是为了降低程序之间的耦合性（依赖）

###### spring加载bean容器有两种：BeanFactory和ApplicationContext
##### IOC容器是用来管理bean

**BeanFactory**：是spring最底层的接口，它创建bean时使用延迟加载，即使用时才去加载并存入容器中
**ApplicationContext：继承了BeanFactory，所以它的功能更加完善，它默认使用即时加载，即在容器启动时就加载所有的bean
 
**延迟加载的优点**：应用启动的时候占用资源很少；对资源要求较高的应用，比较有优势
即时加载优点：
1. 所有的Bean在启动的时候都加载，系统运行的速度快
2.在启动的时候所有的Bean都加载了，就可以尽早的发现配置中的问题 

ApplicationContext的实现类:
ApplicationContext ap = new ClassPathXmlApplicationContext("配置文件名");
ApplicationContext ap = new FileSystemXmlApplicationContext("配置文件磁盘路径");
通过注解编写时，需要用如下方式读取配置类
ApplicationContext ap = new AnnotationConfigApplicationContext(配置类.class);


#### bean的创建方式：
##### 1、默认构造函数创建
解释：根据反射机制通过具体的类路径创建实例化对象bean，将这个bean交给spring容器管理，最后通过id去查找这个bean，
```java
<bean  id = "userServer" class="类的具体路径"> </bean>
```
##### 2、普通工厂的方法创建
```java
<bean  id = "instanceFactory" class="工厂类的具体路径"> </bean>
<bean  id = "userServer"  factory-bean = "instanceFactory" factory-method = "工厂
中的方法名"> </bean>
```
##### ###### 3、工厂中的静态方法创建
```java
<bean  id = "userServer" class="工厂类的具体路径"  factory-method = "工厂中的静态方法名"> </bean>
```

##### bean的作用范围：
1、singleton   单例    随容器启动，随容器关闭而死亡
2、prototype   多例    使用时由spring创建，由java的垃圾回收器收集
3、request    作用于web请求范围
4、session    作用于web会话范围
5、global-session  作用于集群会话范围(全局范围)  没有集群，那么就是session范围

#### ##### DI注入方式
##### 1、构造方法注入
需要使用标签<constructor-arg>
属性：type(构造函数中参数的类型)，index(参数的索引)，name(参数的名称  ***)，value(适用于基本类型和String类型)，ref(使用于存在spring容器中的bean，用此方式引用)
```java
<constructor-arg  name="name"  value = "simon" >
<constructor-arg  name="bean"  ref= "已存在的bean  id" >
```

##### 2、set方法注入
需要使用标签<property>
属性：name(set方法的方法名,例如：setUserName )  value(适用于基本类型和String类型)，ref(使用于存在spring容器中的bean，用此方式引用)
```java
<property  name = "username" value = "simon">
<property  name = "bean" ref= "已存在的bean  id" >
```
弊端：若某个成员必须有值，注入不一定成功

复杂类型的属性:list、set、array、map、prop

这三种类型的标签可以随便使用任何一种
```java
<property  name = "list、set、array">
<list>
<value>aaa</value>
</list>
或
<set>
<value>bbb</value>
</set>
或
<arrayt>
<value>ccc</value>
</arrayt>
</property>
```

这两种可以随便使用
```java
<property  name = "map、prop" >
<map>
<entry key="key01" value="aaa"/>
</map>

<map>
<entry key="key01">
<value>cccc</value>
</entry>
</map>
或
<props>
<prop key = "key2">bbbb </prop>
</props>
</property>
```
##### 3、接口注入


#### Annotation：
创建类对象存入spring容器:@component("bean ID 的名字， 可以不写，默认为类名首字母小写")
@autowried默认使用类型注入bean

@qualifier 需要配套autowried使用，在按类型注入的基础上在按名称注入  属性value可以不写
@resource默认使用名称注入bean
这三种这注解只能作用于bean的注入，基本类型和String类型无法使用

@value:用于注入基本类型和String类型的数据  属性  value用来指定值   可以使用#{表达式}来表示
@scope：用于指定bean的作用范围    singleton    prototype
@preDestory：用于指定销毁方法        适用于单例     
@postConstruct ：用于指定初始化方法     适用于单例
@bean：用于把当前方法的返回值作为bean存入spring的ioc容器中
属性：name用于指定bean的id，如果不写默认为方法名
细节：当我们使用注解配置方法时，如果方法有参数，spring框架会去容器中查找可用的
bean对象	，查找方式和autowride相同
@import：用于导入其它的配置类    属性：value   用于导入其它类的字节码  @import(类名.class)
细节：当被import注解修饰的类就是主配置类，其它导入的类是子配置类
@propertySource：用于指定配置文件  @propertySource("classpath:配置文件名")  classpath表示类路径

###### Spring和junit整合：
@Runwith：使用junit提供的注解把原有的main方法替换，替换成spring提供的
@ContextConfiguration：告知spring的运行器，spring和ioc创建是基于xml还是注解，并说明位置
属性:location   指定xml文件的位置，加上classpath表示类路径下
 class     指定注解类所在的位置

##### #### AOP
作用：在不修改源码的基础上对已方代码增强
优势：
1、减少重复代码
2、提高开发效率
3、维护方便
实现;使用动态代理技术

连接点：指业务层中的所有方法
切入点：被代理增强的方法
切入点一定是连接点，连接点不一定是切入点

advice(通知/增强)


target(目标对象)  代理的对象(被代理的类)

Spring中基于XML的AOP配置步骤




(String), https://picsum.photos/id/109/800/500(String), (String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2020-07-21 00:35:08.475(Timestamp), 6(Long), 1(Long), Spring(String), 1(Long)
2020-07-21 00:35:08.526 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.update : 143 ] - <==    Updates: 1
2020-07-21 00:35:08.534 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.insert : 143 ] - ==>  Preparing: INSERT INTO t_blog_tag ( t_blog_id, t_tag_id ) VALUES ( ?, ? ) 
2020-07-21 00:35:08.536 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.insert : 143 ] - ==> Parameters: 1(Long), 1(Long)
2020-07-21 00:35:08.539 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.insert : 143 ] - <==    Updates: 1
2020-07-21 00:35:08.540 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.insert : 143 ] - ==>  Preparing: INSERT INTO t_blog_tag ( t_blog_id, t_tag_id ) VALUES ( ?, ? ) 
2020-07-21 00:35:08.541 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.insert : 143 ] - ==> Parameters: 1(Long), 4(Long)
2020-07-21 00:35:08.542 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.insert : 143 ] - <==    Updates: 1
2020-07-21 00:35:08.569 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==>  Preparing: SELECT COUNT(1) FROM t_blog 
2020-07-21 00:35:08.569 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==> Parameters: 
2020-07-21 00:35:08.571 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog LIMIT ?,? 
2020-07-21 00:35:08.572 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==> Parameters: 0(Long), 3(Long)
2020-07-21 00:35:08.578 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - <==      Total: 3
2020-07-21 00:35:08.580 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - ==>  Preparing: SELECT id,name FROM t_type 
2020-07-21 00:35:08.580 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - ==> Parameters: 
2020-07-21 00:35:08.584 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - <==      Total: 5
2020-07-21 00:35:10.829 [ http-nio-8801-exec-5 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE id=? 
2020-07-21 00:35:10.832 [ http-nio-8801-exec-5 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==> Parameters: 2(Long)
2020-07-21 00:35:10.834 [ http-nio-8801-exec-5 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 00:35:10.837 [ http-nio-8801-exec-5 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.selectList : 143 ] - ==>  Preparing: SELECT t_blog_id AS blogId,t_tag_id AS tagId FROM t_blog_tag WHERE (t_blog_id = ?) 
2020-07-21 00:35:10.838 [ http-nio-8801-exec-5 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.selectList : 143 ] - ==> Parameters: 2(Long)
2020-07-21 00:35:10.841 [ http-nio-8801-exec-5 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.selectList : 143 ] - <==      Total: 1
2020-07-21 00:35:10.841 [ http-nio-8801-exec-5 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - ==>  Preparing: SELECT id,name FROM t_type 
2020-07-21 00:35:10.843 [ http-nio-8801-exec-5 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - ==> Parameters: 
2020-07-21 00:35:10.844 [ http-nio-8801-exec-5 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - <==      Total: 5
2020-07-21 00:35:10.845 [ http-nio-8801-exec-5 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectList : 143 ] - ==>  Preparing: SELECT id,name FROM t_tag 
2020-07-21 00:35:10.845 [ http-nio-8801-exec-5 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectList : 143 ] - ==> Parameters: 
2020-07-21 00:35:10.849 [ http-nio-8801-exec-5 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectList : 143 ] - <==      Total: 9
2020-07-21 00:35:15.310 [ http-nio-8801-exec-2 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/blog/2', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.IndexController.blog', args=[{}, 2]}
2020-07-21 00:35:15.316 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==>  Preparing: SELECT id,nickName,userName,password,email,avatar,type,createTime FROM t_user WHERE id=? 
2020-07-21 00:35:15.317 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 00:35:15.332 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 00:35:15.334 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE id=? 
2020-07-21 00:35:15.335 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==> Parameters: 2(Long)
2020-07-21 00:35:15.337 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 00:35:15.341 [ http-nio-8801-exec-2 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 58 ] - result : blog
2020-07-21 00:36:21.946 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectById : 143 ] - ==>  Preparing: SELECT id,name FROM t_type WHERE id=? 
2020-07-21 00:36:21.947 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 00:36:21.948 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 00:36:21.950 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.deleteAllByBlogId : 143 ] - ==>  Preparing: delete from t_blog_tag where t_blog_id = ? 
2020-07-21 00:36:21.951 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.deleteAllByBlogId : 143 ] - ==> Parameters: 2(Long)
2020-07-21 00:36:21.961 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.update : 143 ] - ==>  Preparing: UPDATE t_blog SET title=?, description=?, content=?, firstPicture=?, flag=?, appreciation=?, shareStatement=?, commentabled=?, published=?, recommend=?, updateTime=?, type_id=?, user_id=?, type_name=? WHERE (id = ?) 
2020-07-21 00:36:21.962 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.update : 143 ] - ==> Parameters: 多线程(String), 多线程的要点，还需完善(String), **串行：**对多个任务按部就班的去完成

**并行：**能够同时去处理多个任务

**并发：**能够处理多个任务，不一定是同时的

##### #### 线程的状态：
**新建状态--就绪状态--运行状态--阻塞状态--死亡状态**

#### Java中三种创建线程的方法：
- 通过实现Runnable接口
- 通过继承Thread接口
- 通过实现Callable和Future创建线程  (有返回值，其返回值就是定义的泛型的类型)

###### Runnable和Callable的区别
相同点：
两者都是接口
都采用Thread.start()启动线程

不同的：
                Runnable没有返回值。Callable有返回值，其返回值就是定义的泛型的类型，和Future、FutureTask配合可以用来获取异步执行的结果

      Callable接口的call()方法允许抛出异常，Runnable的run()方法异常只能在内部消化，不能往上继续抛
      callable和runnable都可以应用于executors。而thread类只支持runnable

***注：Callalble接口支持返回执行结果，需要调用FutureTask.get()得到，此方法会阻塞主进程的继续往下执行，如果不调用不会阻塞。*****(String), https://picsum.photos/id/106/800/500(String), 原创(String), false(Boolean), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2020-07-21 00:36:21.949(Timestamp), 1(Long), 1(Long), JAVA(String), 2(Long)
2020-07-21 00:36:21.964 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.update : 143 ] - <==    Updates: 1
2020-07-21 00:36:21.968 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.insert : 143 ] - ==>  Preparing: INSERT INTO t_blog_tag ( t_blog_id, t_tag_id ) VALUES ( ?, ? ) 
2020-07-21 00:36:21.971 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.insert : 143 ] - ==> Parameters: 2(Long), 1(Long)
2020-07-21 00:36:21.972 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.insert : 143 ] - <==    Updates: 1
2020-07-21 00:36:21.982 [ http-nio-8801-exec-7 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==>  Preparing: SELECT COUNT(1) FROM t_blog 
2020-07-21 00:36:21.982 [ http-nio-8801-exec-7 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==> Parameters: 
2020-07-21 00:36:21.984 [ http-nio-8801-exec-7 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog LIMIT ?,? 
2020-07-21 00:36:21.985 [ http-nio-8801-exec-7 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==> Parameters: 0(Long), 3(Long)
2020-07-21 00:36:21.988 [ http-nio-8801-exec-7 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - <==      Total: 3
2020-07-21 00:36:21.990 [ http-nio-8801-exec-7 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - ==>  Preparing: SELECT id,name FROM t_type 
2020-07-21 00:36:21.991 [ http-nio-8801-exec-7 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - ==> Parameters: 
2020-07-21 00:36:21.992 [ http-nio-8801-exec-7 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - <==      Total: 5
2020-07-21 00:36:25.946 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE id=? 
2020-07-21 00:36:25.948 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==> Parameters: 3(Long)
2020-07-21 00:36:25.950 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 00:36:25.952 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.selectList : 143 ] - ==>  Preparing: SELECT t_blog_id AS blogId,t_tag_id AS tagId FROM t_blog_tag WHERE (t_blog_id = ?) 
2020-07-21 00:36:25.953 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.selectList : 143 ] - ==> Parameters: 3(Long)
2020-07-21 00:36:25.955 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.selectList : 143 ] - <==      Total: 2
2020-07-21 00:36:25.958 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - ==>  Preparing: SELECT id,name FROM t_type 
2020-07-21 00:36:25.958 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - ==> Parameters: 
2020-07-21 00:36:25.959 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - <==      Total: 5
2020-07-21 00:36:25.961 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectList : 143 ] - ==>  Preparing: SELECT id,name FROM t_tag 
2020-07-21 00:36:25.961 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectList : 143 ] - ==> Parameters: 
2020-07-21 00:36:25.963 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectList : 143 ] - <==      Total: 9
2020-07-21 00:36:32.077 [ http-nio-8801-exec-9 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/blog/3', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.IndexController.blog', args=[{}, 3]}
2020-07-21 00:36:32.080 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==>  Preparing: SELECT id,nickName,userName,password,email,avatar,type,createTime FROM t_user WHERE id=? 
2020-07-21 00:36:32.081 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 00:36:32.083 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 00:36:32.086 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE id=? 
2020-07-21 00:36:32.086 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==> Parameters: 3(Long)
2020-07-21 00:36:32.088 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 00:36:32.101 [ http-nio-8801-exec-9 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 58 ] - result : blog
2020-07-21 00:45:10.920 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectById : 143 ] - ==>  Preparing: SELECT id,name FROM t_type WHERE id=? 
2020-07-21 00:45:10.921 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectById : 143 ] - ==> Parameters: 21(Long)
2020-07-21 00:45:10.922 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 00:45:10.923 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.deleteAllByBlogId : 143 ] - ==>  Preparing: delete from t_blog_tag where t_blog_id = ? 
2020-07-21 00:45:10.924 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.deleteAllByBlogId : 143 ] - ==> Parameters: 3(Long)
2020-07-21 00:45:10.934 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.update : 143 ] - ==>  Preparing: UPDATE t_blog SET title=?, description=?, content=?, firstPicture=?, flag=?, appreciation=?, shareStatement=?, commentabled=?, published=?, recommend=?, updateTime=?, type_id=?, user_id=?, type_name=? WHERE (id = ?) 
2020-07-21 00:45:10.937 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.update : 143 ] - ==> Parameters: Redis知识点(String), Redis知识点总结(String), **Redis：REmote DIctionary Servcer（远程字段服务器）**

是完全开源免费的  用C语言编写的，遵守BSD协议，是一个高性能的（key/value）分布式内存数据库，基于内存运行并支持持久化的NoSQL(非关系型数据库)数据库，也叫作数据结构服务器
不支持ACID(原子性、一致性、可用性、持久性)
不遵循SQL标准

###### 分布式：在多个不同服务器上部署不同的服务模块
###### 集群：在多个不同服务器上部署相同的服务模块
 
#### Redis的特点

- 支持数据的持久化，可以将内存中的数据保持在磁盘中，重启的时候可以再次加载进行使用
- 不仅支持简单的key-value(String)类型的数据，同时还提供list，set，zset，hash等数据结构的存储
- 支持数据的备份，即master-slave模式的数据备份 

###### 能做什么
- 内存存储和持久化：支持异步将内存中的数据写到硬盘中，同时不影响继续服务
- 取最新的N个数据，如：可以将最新的10条数据的id放在List集合中
- 模拟类似于HttpSession这种需要设定过期时间的功能
- 发布、订阅消息系统(可以使用消息中间件MQ来发送消息)
- 定时器、计数器

#### Memocache和Redis的区别
1. Redis支持持久化，memocache一般不持久化
2. Redis支持多种数据结构，Memorycache只支持key-value
3. Redis使用的是单线程+多路IO复用，Memocache使用的是多线程+锁
4. 注：多路复用-指使用一个线程来检查多个文件描述符的就绪状态

### Redis五大数据类型-Key
- keys *    查询当前所有的键
- 使用select <dbid> 来切换数据库
- exists <key>    判断某个键是否存在
- type <key>      查看某个键的类型
- del  <key>       删除某个键
- expire <key>  <seconds>  为键设置过期时间   单位秒
- ttl  <key>    查看还有多少秒过期    -1永不过期    -2已过期
- dbsize   查看当前数据库key的数量
- Flushdb   清空当前库
- Flushall    通杀全部库   

##### String类型
    **- get   <key>  查询对应键值
    - set   <key>   <value>   添加键值对
    - append  <key>  <value>  将给定的value追加到指定key的原值末尾
    - strlen   <len>  获得值长度
    - setnx   <key>  <value>  只有在key不存在时  设置key的值
    - incr  <key>  将key中存储的值(必须为数值)加1，如果为空   新增值为1
    - decr  <key>  将key中存储的数字值(必须为数值)减1，如果为空   新增值为1
    - incrby / decrby  <key>  <步长>  将key中储存的数字值增减，自定义步长
    - 原子性：指在被操作时不会因为其他操作或线程所打断
    - mset  <key1>  <value1>  <key2>  <value2> .....   同时设置一个或多个键值对
    - mget  <key1>  <key2> 同时获取多个value
    - msetnx  <key1>  <value1>  
	-<key2>  <value2>..同时设置一个或多个键值--对，-当且仅当所有key都不存在
    - getrange  <key>   
	<起始位置>  <结束位置>     获得值的范围，类似-java中substring  此处是含头又含尾
    - setrange <key>  <起始位置>  <value>   用<value>复写<key>所存储的字符串值，从,起始位置>开始
    - setex   <key>  <过期时间>  <value>   设置-键值的同时，设置过期时间，单位秒
    - getset  <key>   <value>  以旧换新，设置了--新值同时获取旧值**

##### List
**单键多值**

**Redis列表是简单的字符串(必须)列表，按照插入顺序排序。可以添加到列表头或者尾
底层是双向列表，对两端的操作性能很高，通过索引下标操作中间的节点性能会较差**

    

    

    lpush/rpush  <key>  <value1> <value2> .....   从左边/右边插入一个或多个值
            例：lpush list a b c   结果：c b a        rpush list 1 2 3   结果: c b a 1 2 3 
            - lpop/rpop  <key>  从左边/右边弹一个值，值在键在，值光键亡
            例：lpop list     结果: c           rpop list     结果：3
            - rpoplpush   <key1>  <key2>    从<key1>列表右边弹一个值，查到<key2>左边
            - lrange  <key>  <start>  <stop>   按照索引下标获得元素(从左到右)
            例: lrange  list  0   -1（-1表示尾部，可以将该键所有值展示出来）
            - lindex  <key>  <index>  按照索引下标获得元素(从左到右)
            - llen   <key>     获得列表长度
            - linsert   <key>  after  <value>  <newvalue>   在<value>的后面插入<newvalue>插入值
            - lrem  <key>  <n>  <value>   删除n个value
            注意: n=1代表从左边开始删除一个指定的值
               n=0代表删除所有指定的值
               n=-1代表从右边开始删除一个指定的值

##### Set

**可以自动去重，而且可以判断某个值是否在set集合中
是string类型的无序集合，底层是一个value为null的hash表，所以添加，删除，查找的复杂度都是O(1) **

    

    - sadd <key> <value1> <value2>.....  将一个或多个member(成员)元素加入到集合key中，已经存在于集合的member元素将被忽略
        - 是smembers <key> 取出该集合所有值
        - sismember <key> <value>  判断集合<key>是否为含有该<value>值，有返回1，没有返回0
        - scard  <key>  返回该集合的元素个数
        - srem <key> <value1> <value2>.....   删除集合中的某个元素
        - spop <key>  随机从该集合中吐出一个值
        - srandmember <key> <n>  随机从该集合中取出n个值，不会从集合中删除
        - sinter <key1> <key2>  返回两个集合的交集元素
        - sunion <key1> <key2>  返回两个集合的并集元素  
        - sdiff <key1> <key2>  返回两个集合的差集元素   注：key1-(key1和key2的交集)

##### hash 

**是一个键值对集合
是一个string类型的field和value的映射表，hash特别适合用于存储对象
类似java中的Map<String,String>
注：key是redis的键，field是hash的键**

    

    - hset <key> <filed> <value>  给<key>集合中的   <filed>键赋值<value>
        注：<filed>需要特殊和规范   user:uid ------user:username
        - hget <key1> <filed>  从<key1> 集合<field> 取出value
        - hmset <key1> <field1> <value1> <field2> <value2>....    批量设置hash的值
        - hexists <key> <field>  查看哈希表key中，给定域field是否存在
        - hkeys <key> 列出该hash集合的所有field
        - hvals <key>  列出该hash集合的所有value
        - hincrby <key> <field> <increment> 为哈希表key中的域field的值加上增量increment(10,11,-12,-100（负值为减法）)
        - hsetnx <key> <field> <value> 将哈希表key中的域field的值设置为value，当且仅当域field不存在 
        - hgetall  <key> 获取该key下的所有的键值对

##### zset （sorted set）

**zset是redis中的有序集合，是一个没有重复元素的字符串集合。
有序集合的每个成员都关联了一个评分(score) ，就是根据这个评分来进行排序的，排序使用的是升序，评分可重复
可以通过评分和次序来获取一个范围的元素**

##### 注：1、同元素同分数无法添加
2、同元素不同分数，元素不会添加分数会改变，并且重新排序
3、不同元素相同分数，能正常添加并且能正常排序

   

     - zadd <key> <score1> <value1> <score2> <value2>.....  将一个或多个member元素及其score值加入到有序集合key当中
        - zrange <key> <start> <stop> [WITHSCORES]  返回有序集key中，下标在<start> <stop>之间的元素，带WITHSCORES，可以让分数一起和值返回到结果集
        - zrangebyscore key min max [withscores] [limit offset count]   返回有序集key中所有score值介于min和max之间(包括等于min和max)的成员，有序集成员按score值递增(从小到大)次序排列
         注：zrevrange代表反转的意思，表示从降序查询显示
        - zrevrangebyscore key max min [withscores] [limit offset count]同上，改为从大到小排序
        - zincrby <key> <increment> <value> 为元素的score加上增量
        - zrem <key> <value> 删除该集合下，指定值的元素
        - zcount <key> <min> <max> 统计该集合，分数区间内的元素个数
        - zrank <key> <value> 返回该值在集合中的排名，从0开始

###### ip绑定(bind)
默认情况绑定的是本机 bind=127.0.0.1，只接受本机访问
注释掉bind=127.0.0.1并且protected-mode改为no  才能允许任何机器访问

###### security
在命令行中设置密码
config get requirepass   获取密码
config set requirepass "123123" 设置密码
auth 123123  使用密码登陆  
注：命令行的设置都是零时的，他只在内存中允许

##### ###### 事务
   

     Redis事务的主要作用就是串联多个命令防止别的命令插队
        multi开启事务，exec执行事务，discard取消事务
        如果在执行时报错(运行)，则只有报错的命令不会被执行，其它的命令正常执行，不会回滚
        乐观锁执行时其它可以访问，当一个请求执行完会更新版本号，其它请求在访问时会匹配版本号，版本号不一样直接失败
        悲观锁表示当前线程在执行时就会将其锁住，等执行完了在开锁，在此期间别人无法执行
        WATCH key [key.....]  在执行multi前，先执行watch key1 [key2] ，可以监视一个或多个key，如果在事务执行之前这个或这些key被其它命令改动，那么事务会被整个打断
        unwatch  取消对于key的监视

##### 单独的隔离操作
    

    事务中的所有的命令都会被序列化，按顺序执行，事务在执行过程中，不会被其他的客户端发送过来的命令请求打断
        没有隔离级别概念
        队列中的命令没有提交之前都不会实际的呗执行，因为事务提交前任何指令都不会被实际执行，也就不存在"事务内的查询要看到事务里的更新，在事务外查询不能看到"
        不保证原子性
        Redis用一个事务中如果有一条命令执行失败，其后的命令任然会被执行，没有回滚

##### Redis持久化
    就是将数据从内存中保存到磁盘上，有两种不同持久化方式RDB、AOF
    Redis的持久化，有两种方式
    修改保存策略
    手动正常关闭 如：shutdown  

##### RDB存储的是数据，AOF存储的是指令
当RDB和AOF同时开启时，会默认选择AOF持久化

**RDB：**在指定的时间间隔内将内存中的数据集快照写入磁盘，也就是行话的Snapshot快照，它恢复时是将快照文件直接读到内存里

- RDB的优点：1、节省磁盘空间  2、恢复速度快
- RDB的缺点：
- 虽然Edeids在fork时使用了写时拷贝技术，但是如果数据庞大时还是比较消耗性能
- 在备份周期在一定间隔时间做一次备份，Redis意外down掉的话，就会丢失最后一次快照后的所有的修改

**AOF:**    以日志的形式来记录每个写操作，将Redis执行过的所有写指令记录下来(读操作不记录),只许追加文件但不可以改写文件，Redis启动之初会读取该文件重新构建数据，换言之，Redis重启的话就根据日志文件的内容将写指令从前到后执行一次以完成数据点恢复工作

    AOF默认不开启，需要手动在配置文件中配置 在redis.conf文件中修改appendonly为yes
###### AOF的优点：
- 备份机制更稳健，丢失数据概率低
- 可读的日志文本，通过操作AOF稳健，可以处理误操作
###### AOF的缺点：
- 比起RDB占用更多的磁盘空间
- 恢复备份速度慢
- 每次读写都同步的话，有一定的性能压力
- 存在个别Bug，造成恢复不能

##### Redis如何实现重写
   

     AOF文件持续增长而过大时，会fork出一条新进程来将文件重写(也是先写临时文件最后在rename),遍历新进程的内存中数据，每条记录有一条set语句。
	重写aof文件的操作，并没有读取旧得aof文件，而是将整个内存中的 数据库内容用命令的方式重写了一个新的aof文件，这和快照类似

#### Redis主从复制
    

    主从复制: 就是主机数据更新后根据配置和策略，自动同步到备机的master/slaver机制，Master以写为主，Slave以读为主
    用处：1、读写分离，性能扩展   2、容灾快速恢复

info replication 打印主从复制的相关信息
slaveof <ip> <port> 成为某个实例的从服务器

#### Redis集群
Redis集群实现了对Redis的水平扩容，即启动N个redis节点，将整个数据库分布存储在这N个节点中，每个节点存储总数据的1/N
Redis集群通过分区(partition)来提供一定程度的可用性(availability)：即使集群中有一部分节点失效或者无法进行通讯，集群也可以继续处理命令请求 

**优点：**
- 实现扩容
- 分摊压力
- 无中心配置相对简单

**缺点：**
- 多键操作是不被支持的
- 多键的Redis事务是不被支持的，lua脚本不被支持
- 代理或者客户端分片的方案想要迁移至redis cluster，需要整体迁移而不是逐步过渡，复杂度较大

#### 击穿
##### 就是说某个 key 非常热点，访问非常频繁，处于集中式高并发访问的情况，当这个 key 在失效的瞬间，大量的请求就击穿了缓存，直接请求数据库，就像是在一道屏障上凿开了一个洞，最终导致数据库崩溃

**解决方案：**
- 可以将热点数据设置为永远不过期
- 基于 redis or zookeeper 实现互斥锁，等待第一个请求构建完缓存之后，再释放锁，进而其它请求才能通过该 key 访问数据

#### 雪崩
##### 雪崩指的是多个key查询并且出现高并发，缓存中失效或者查不到，然后都去db查询，从而导致db压力突然飙升，从而崩溃
**出现原因:** 
   1. key同时失效
   2.redis本身崩溃了
   
**解决方案：**
1、对不同的key设置不同的过期时间，避免在同一时刻所有的key过期
2、对Redis和DB配置集群
3、Redis中设置永远不过期，这样就不会出现热点问题，但是也只是物理上不过期


#### ##### 穿透
###### 一般是出现这种情况是因为恶意频繁查询才会对系统造成很大的问题: key不存在并且数据库中也不存在，所以每次查询都会去查询数据库从而导致数据库崩溃
**解决方案：**
1、使用布隆过滤器：布隆过滤器可以理解为一个不怎么精确的 set 结构，当你使用它的 contains 方法判断某个对象是否存在时，它可能会误判。但是布隆过滤器也不是特别不精确，只要参数设置的合理，它的精确度可以控制的相对足够精确，只会有小小的误判概率

	**缺点: **
   	   1 会存在一定的误判率
          2  对新增加的数据无法进行布隆过滤
          3 数据的key不会频繁的更改

2、如果一个查询返回的数据为空，不管是数据不存在还是系统故障，我们仍然把这个结果进行缓存，但是它的过期时间会很短


###### Jedis
 	Jedis是Redis官方推荐的面向Java的操作Redis的客户端
```java
依赖为：<dependency>
    <groupId>redis.clients</groupId>
    <artifactId>jedis</artifactId>
    <version>3.1.0</version>
</dependency>
```
注意：Jedis不是线程安全的，在多线程中使用会出现线程安全问题，并且它的value只能是String类型

###### JedisPool
JedisPool类似线程池，它是用来管理Jedis的，并且它是线程安全的，操作和Jedis基本相同，同时value也不能是String类型

###### RedisTemplate
为了让Spring框架体系能够更加方便的接入Redis的功能，RedisTemplate其实就是Spring框架对Jedis的封装…是 spring-data-redis中使用redis的模版
依赖为：<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-data-redis</artifactId>
</dependency>

###### pom中的设置为：
redis:
 		 host: 192.168.0.110
  		 port: 6379

###### 使用方式：
```java
@Resource
private RedisTemplate<String,Map<String,Integer>> redisTemplate;
```

**注意：通过该方式存储的数据，如果直接在Redis中查询的话可能会查不到，因为数据已经被序列化。它可以存储对象和map集合类型的value**

###### StringRedisTemplate
它继承了RedisTemplate，并且重新对数据进行了序列化，在Redis中能正常查看存储的数据，当key和value都是String类型的时候可以使用该方式(String), https://picsum.photos/id/102/800/500(String), 翻译(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2020-07-21 00:45:10.923(Timestamp), 21(Long), 1(Long), 学习知识点(String), 3(Long)
2020-07-21 00:45:10.942 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.update : 143 ] - <==    Updates: 1
2020-07-21 00:45:10.945 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.insert : 143 ] - ==>  Preparing: INSERT INTO t_blog_tag ( t_blog_id, t_tag_id ) VALUES ( ?, ? ) 
2020-07-21 00:45:10.946 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.insert : 143 ] - ==> Parameters: 3(Long), 7(Long)
2020-07-21 00:45:10.947 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.insert : 143 ] - <==    Updates: 1
2020-07-21 00:45:10.949 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.insert : 143 ] - ==>  Preparing: INSERT INTO t_blog_tag ( t_blog_id, t_tag_id ) VALUES ( ?, ? ) 
2020-07-21 00:45:10.950 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.insert : 143 ] - ==> Parameters: 3(Long), 1(Long)
2020-07-21 00:45:10.951 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.insert : 143 ] - <==    Updates: 1
2020-07-21 00:45:10.960 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==>  Preparing: SELECT COUNT(1) FROM t_blog 
2020-07-21 00:45:10.960 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==> Parameters: 
2020-07-21 00:45:10.962 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog LIMIT ?,? 
2020-07-21 00:45:10.963 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==> Parameters: 0(Long), 3(Long)
2020-07-21 00:45:10.965 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - <==      Total: 3
2020-07-21 00:45:10.967 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - ==>  Preparing: SELECT id,name FROM t_type 
2020-07-21 00:45:10.968 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - ==> Parameters: 
2020-07-21 00:45:10.969 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - <==      Total: 5
2020-07-21 00:45:16.851 [ http-nio-8801-exec-3 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.IndexController.index', args=[{}, org.apache.catalina.connector.RequestFacade@72e68f10]}
2020-07-21 00:45:16.855 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==>  Preparing: SELECT COUNT(1) FROM t_blog 
2020-07-21 00:45:16.856 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==> Parameters: 
2020-07-21 00:45:16.857 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog LIMIT ?,? 
2020-07-21 00:45:16.858 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==> Parameters: 0(Long), 5(Long)
2020-07-21 00:45:16.859 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - <==      Total: 4
2020-07-21 00:45:16.861 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==>  Preparing: SELECT id,nickName,userName,password,email,avatar,type,createTime FROM t_user WHERE id=? 
2020-07-21 00:45:16.861 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 00:45:16.862 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 00:45:16.863 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.findCountTypeName : 143 ] - ==>  Preparing: select type_name, count(*) as 'count' from t_blog group by type_id order by count(*) DESC limit 5 
2020-07-21 00:45:16.864 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.findCountTypeName : 143 ] - ==> Parameters: 
2020-07-21 00:45:16.866 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.findCountTypeName : 143 ] - <==      Total: 3
2020-07-21 00:45:16.868 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectList : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE (recommend = ?) 
2020-07-21 00:45:16.869 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectList : 143 ] - ==> Parameters: 1(Integer)
2020-07-21 00:45:16.871 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectList : 143 ] - <==      Total: 4
2020-07-21 00:45:16.872 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.findCountTag : 143 ] - ==>  Preparing: select t_tag_id, COUNT(*) AS `count` from t_blog_tag group by t_tag_id order by count(*) DESC LIMIT 10 
2020-07-21 00:45:16.872 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.findCountTag : 143 ] - ==> Parameters: 
2020-07-21 00:45:16.873 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.findCountTag : 143 ] - <==      Total: 4
2020-07-21 00:45:16.875 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==>  Preparing: SELECT id,name FROM t_tag WHERE id=? 
2020-07-21 00:45:16.875 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 00:45:16.876 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 00:45:16.877 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==>  Preparing: SELECT id,name FROM t_tag WHERE id=? 
2020-07-21 00:45:16.877 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==> Parameters: 4(Long)
2020-07-21 00:45:16.878 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 00:45:16.879 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==>  Preparing: SELECT id,name FROM t_tag WHERE id=? 
2020-07-21 00:45:16.880 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==> Parameters: 7(Long)
2020-07-21 00:45:16.881 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 00:45:16.883 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==>  Preparing: SELECT id,name FROM t_tag WHERE id=? 
2020-07-21 00:45:16.884 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==> Parameters: 8(Long)
2020-07-21 00:45:16.885 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 00:45:16.886 [ http-nio-8801-exec-3 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 58 ] - result : index
2020-07-21 00:45:19.706 [ http-nio-8801-exec-4 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/blog/3', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.IndexController.blog', args=[{}, 3]}
2020-07-21 00:45:19.709 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==>  Preparing: SELECT id,nickName,userName,password,email,avatar,type,createTime FROM t_user WHERE id=? 
2020-07-21 00:45:19.710 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 00:45:19.713 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 00:45:19.715 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE id=? 
2020-07-21 00:45:19.716 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==> Parameters: 3(Long)
2020-07-21 00:45:19.717 [ http-nio-8801-exec-4 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 00:45:19.725 [ http-nio-8801-exec-4 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 58 ] - result : blog
2020-07-21 00:45:54.446 [ http-nio-8801-exec-10 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE id=? 
2020-07-21 00:45:54.447 [ http-nio-8801-exec-10 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==> Parameters: 3(Long)
2020-07-21 00:45:54.450 [ http-nio-8801-exec-10 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 00:45:54.452 [ http-nio-8801-exec-10 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.selectList : 143 ] - ==>  Preparing: SELECT t_blog_id AS blogId,t_tag_id AS tagId FROM t_blog_tag WHERE (t_blog_id = ?) 
2020-07-21 00:45:54.453 [ http-nio-8801-exec-10 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.selectList : 143 ] - ==> Parameters: 3(Long)
2020-07-21 00:45:54.454 [ http-nio-8801-exec-10 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.selectList : 143 ] - <==      Total: 2
2020-07-21 00:45:54.455 [ http-nio-8801-exec-10 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - ==>  Preparing: SELECT id,name FROM t_type 
2020-07-21 00:45:54.455 [ http-nio-8801-exec-10 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - ==> Parameters: 
2020-07-21 00:45:54.456 [ http-nio-8801-exec-10 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - <==      Total: 5
2020-07-21 00:45:54.457 [ http-nio-8801-exec-10 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectList : 143 ] - ==>  Preparing: SELECT id,name FROM t_tag 
2020-07-21 00:45:54.458 [ http-nio-8801-exec-10 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectList : 143 ] - ==> Parameters: 
2020-07-21 00:45:54.460 [ http-nio-8801-exec-10 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectList : 143 ] - <==      Total: 9
2020-07-21 00:47:49.769 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectById : 143 ] - ==>  Preparing: SELECT id,name FROM t_type WHERE id=? 
2020-07-21 00:47:49.770 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectById : 143 ] - ==> Parameters: 21(Long)
2020-07-21 00:47:49.772 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 00:47:49.775 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.deleteAllByBlogId : 143 ] - ==>  Preparing: delete from t_blog_tag where t_blog_id = ? 
2020-07-21 00:47:49.775 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.deleteAllByBlogId : 143 ] - ==> Parameters: 3(Long)
2020-07-21 00:47:49.784 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.update : 143 ] - ==>  Preparing: UPDATE t_blog SET title=?, description=?, content=?, firstPicture=?, flag=?, appreciation=?, shareStatement=?, commentabled=?, published=?, recommend=?, updateTime=?, type_id=?, user_id=?, type_name=? WHERE (id = ?) 
2020-07-21 00:47:49.787 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.update : 143 ] - ==> Parameters: Redis知识点(String), Redis知识点总结(String), **Redis：REmote DIctionary Servcer（远程字段服务器）**

是完全开源免费的  用C语言编写的，遵守BSD协议，是一个高性能的（key/value）分布式内存数据库，基于内存运行并支持持久化的NoSQL(非关系型数据库)数据库，也叫作数据结构服务器
不支持ACID(原子性、一致性、可用性、持久性)
不遵循SQL标准

###### 分布式：在多个不同服务器上部署不同的服务模块
###### 集群：在多个不同服务器上部署相同的服务模块
 
#### Redis的特点

- 支持数据的持久化，可以将内存中的数据保持在磁盘中，重启的时候可以再次加载进行使用
- 不仅支持简单的key-value(String)类型的数据，同时还提供list，set，zset，hash等数据结构的存储
- 支持数据的备份，即master-slave模式的数据备份 

###### 能做什么
- 内存存储和持久化：支持异步将内存中的数据写到硬盘中，同时不影响继续服务
- 取最新的N个数据，如：可以将最新的10条数据的id放在List集合中
- 模拟类似于HttpSession这种需要设定过期时间的功能
- 发布、订阅消息系统(可以使用消息中间件MQ来发送消息)
- 定时器、计数器

#### Memocache和Redis的区别
1. Redis支持持久化，memocache一般不持久化
2. Redis支持多种数据结构，Memorycache只支持key-value
3. Redis使用的是单线程+多路IO复用，Memocache使用的是多线程+锁
4. 注：多路复用-指使用一个线程来检查多个文件描述符的就绪状态

### Redis五大数据类型-Key
- keys *    查询当前所有的键
- 使用select <dbid> 来切换数据库
- exists <key>    判断某个键是否存在
- type <key>      查看某个键的类型
- del  <key>       删除某个键
- expire <key>  <seconds>  为键设置过期时间   单位秒
- ttl  <key>    查看还有多少秒过期    -1永不过期    -2已过期
- dbsize   查看当前数据库key的数量
- Flushdb   清空当前库
- Flushall    通杀全部库   

##### String类型
    - get   <key>  查询对应键值
    - set   <key>   <value>   添加键值对
    - append  <key>  <value>  将给定的value追加到指定key的原值末尾
    - strlen   <len>  获得值长度
    - setnx   <key>  <value>  只有在key不存在时  设置key的值
    - incr  <key>  将key中存储的值(必须为数值)加1，如果为空   新增值为1
    - decr  <key>  将key中存储的数字值(必须为数值)减1，如果为空   新增值为1
    - incrby / decrby  <key>  <步长>  将key中储存的数字值增减，自定义步长
    - 原子性：指在被操作时不会因为其他操作或线程所打断
    - mset  <key1>  <value1>  <key2>  <value2> .....   同时设置一个或多个键值对
    - mget  <key1>  <key2> 同时获取多个value
    - msetnx  <key1>  <value1>  
	-<key2>  <value2>..同时设置一个或多个键值--对，-当且仅当所有key都不存在
    - getrange  <key>   
	<起始位置>  <结束位置>     获得值的范围，类似-java中substring  此处是含头又含尾
    - setrange <key>  <起始位置>  <value>   用<value>复写<key>所存储的字符串值，从,起始位置>开始
    - setex   <key>  <过期时间>  <value>   设置-键值的同时，设置过期时间，单位秒
    - getset  <key>   <value>  以旧换新，设置了--新值同时获取旧值**

##### List
**单键多值**

**Redis列表是简单的字符串(必须)列表，按照插入顺序排序。可以添加到列表头或者尾
底层是双向列表，对两端的操作性能很高，通过索引下标操作中间的节点性能会较差**

    

    

    lpush/rpush  <key>  <value1> <value2> .....   从左边/右边插入一个或多个值
            例：lpush list a b c   结果：c b a        rpush list 1 2 3   结果: c b a 1 2 3 
            - lpop/rpop  <key>  从左边/右边弹一个值，值在键在，值光键亡
            例：lpop list     结果: c           rpop list     结果：3
            - rpoplpush   <key1>  <key2>    从<key1>列表右边弹一个值，查到<key2>左边
            - lrange  <key>  <start>  <stop>   按照索引下标获得元素(从左到右)
            例: lrange  list  0   -1（-1表示尾部，可以将该键所有值展示出来）
            - lindex  <key>  <index>  按照索引下标获得元素(从左到右)
            - llen   <key>     获得列表长度
            - linsert   <key>  after  <value>  <newvalue>   在<value>的后面插入<newvalue>插入值
            - lrem  <key>  <n>  <value>   删除n个value
            注意: n=1代表从左边开始删除一个指定的值
               n=0代表删除所有指定的值
               n=-1代表从右边开始删除一个指定的值

##### Set

**可以自动去重，而且可以判断某个值是否在set集合中
是string类型的无序集合，底层是一个value为null的hash表，所以添加，删除，查找的复杂度都是O(1) **

    

    - sadd <key> <value1> <value2>.....  将一个或多个member(成员)元素加入到集合key中，已经存在于集合的member元素将被忽略
        - 是smembers <key> 取出该集合所有值
        - sismember <key> <value>  判断集合<key>是否为含有该<value>值，有返回1，没有返回0
        - scard  <key>  返回该集合的元素个数
        - srem <key> <value1> <value2>.....   删除集合中的某个元素
        - spop <key>  随机从该集合中吐出一个值
        - srandmember <key> <n>  随机从该集合中取出n个值，不会从集合中删除
        - sinter <key1> <key2>  返回两个集合的交集元素
        - sunion <key1> <key2>  返回两个集合的并集元素  
        - sdiff <key1> <key2>  返回两个集合的差集元素   注：key1-(key1和key2的交集)

##### hash 

**是一个键值对集合
是一个string类型的field和value的映射表，hash特别适合用于存储对象
类似java中的Map<String,String>
注：key是redis的键，field是hash的键**

    

    - hset <key> <filed> <value>  给<key>集合中的   <filed>键赋值<value>
        注：<filed>需要特殊和规范   user:uid ------user:username
        - hget <key1> <filed>  从<key1> 集合<field> 取出value
        - hmset <key1> <field1> <value1> <field2> <value2>....    批量设置hash的值
        - hexists <key> <field>  查看哈希表key中，给定域field是否存在
        - hkeys <key> 列出该hash集合的所有field
        - hvals <key>  列出该hash集合的所有value
        - hincrby <key> <field> <increment> 为哈希表key中的域field的值加上增量increment(10,11,-12,-100（负值为减法）)
        - hsetnx <key> <field> <value> 将哈希表key中的域field的值设置为value，当且仅当域field不存在 
        - hgetall  <key> 获取该key下的所有的键值对

##### zset （sorted set）

**zset是redis中的有序集合，是一个没有重复元素的字符串集合。
有序集合的每个成员都关联了一个评分(score) ，就是根据这个评分来进行排序的，排序使用的是升序，评分可重复
可以通过评分和次序来获取一个范围的元素**

##### 注：1、同元素同分数无法添加
2、同元素不同分数，元素不会添加分数会改变，并且重新排序
3、不同元素相同分数，能正常添加并且能正常排序

   

     - zadd <key> <score1> <value1> <score2> <value2>.....  将一个或多个member元素及其score值加入到有序集合key当中
        - zrange <key> <start> <stop> [WITHSCORES]  返回有序集key中，下标在<start> <stop>之间的元素，带WITHSCORES，可以让分数一起和值返回到结果集
        - zrangebyscore key min max [withscores] [limit offset count]   返回有序集key中所有score值介于min和max之间(包括等于min和max)的成员，有序集成员按score值递增(从小到大)次序排列
         注：zrevrange代表反转的意思，表示从降序查询显示
        - zrevrangebyscore key max min [withscores] [limit offset count]同上，改为从大到小排序
        - zincrby <key> <increment> <value> 为元素的score加上增量
        - zrem <key> <value> 删除该集合下，指定值的元素
        - zcount <key> <min> <max> 统计该集合，分数区间内的元素个数
        - zrank <key> <value> 返回该值在集合中的排名，从0开始

###### ip绑定(bind)
默认情况绑定的是本机 bind=127.0.0.1，只接受本机访问
注释掉bind=127.0.0.1并且protected-mode改为no  才能允许任何机器访问

###### security
在命令行中设置密码
config get requirepass   获取密码
config set requirepass "123123" 设置密码
auth 123123  使用密码登陆  
注：命令行的设置都是零时的，他只在内存中允许

##### ###### 事务
   

     Redis事务的主要作用就是串联多个命令防止别的命令插队
        multi开启事务，exec执行事务，discard取消事务
        如果在执行时报错(运行)，则只有报错的命令不会被执行，其它的命令正常执行，不会回滚
        乐观锁执行时其它可以访问，当一个请求执行完会更新版本号，其它请求在访问时会匹配版本号，版本号不一样直接失败
        悲观锁表示当前线程在执行时就会将其锁住，等执行完了在开锁，在此期间别人无法执行
        WATCH key [key.....]  在执行multi前，先执行watch key1 [key2] ，可以监视一个或多个key，如果在事务执行之前这个或这些key被其它命令改动，那么事务会被整个打断
        unwatch  取消对于key的监视

##### 单独的隔离操作
    

    事务中的所有的命令都会被序列化，按顺序执行，事务在执行过程中，不会被其他的客户端发送过来的命令请求打断
        没有隔离级别概念
        队列中的命令没有提交之前都不会实际的呗执行，因为事务提交前任何指令都不会被实际执行，也就不存在"事务内的查询要看到事务里的更新，在事务外查询不能看到"
        不保证原子性
        Redis用一个事务中如果有一条命令执行失败，其后的命令任然会被执行，没有回滚

##### Redis持久化
    就是将数据从内存中保存到磁盘上，有两种不同持久化方式RDB、AOF
    Redis的持久化，有两种方式
    修改保存策略
    手动正常关闭 如：shutdown  

##### RDB存储的是数据，AOF存储的是指令
当RDB和AOF同时开启时，会默认选择AOF持久化

**RDB：**在指定的时间间隔内将内存中的数据集快照写入磁盘，也就是行话的Snapshot快照，它恢复时是将快照文件直接读到内存里

- RDB的优点：1、节省磁盘空间  2、恢复速度快
- RDB的缺点：
- 虽然Edeids在fork时使用了写时拷贝技术，但是如果数据庞大时还是比较消耗性能
- 在备份周期在一定间隔时间做一次备份，Redis意外down掉的话，就会丢失最后一次快照后的所有的修改

**AOF:**    以日志的形式来记录每个写操作，将Redis执行过的所有写指令记录下来(读操作不记录),只许追加文件但不可以改写文件，Redis启动之初会读取该文件重新构建数据，换言之，Redis重启的话就根据日志文件的内容将写指令从前到后执行一次以完成数据点恢复工作

    AOF默认不开启，需要手动在配置文件中配置 在redis.conf文件中修改appendonly为yes
###### AOF的优点：
- 备份机制更稳健，丢失数据概率低
- 可读的日志文本，通过操作AOF稳健，可以处理误操作
###### AOF的缺点：
- 比起RDB占用更多的磁盘空间
- 恢复备份速度慢
- 每次读写都同步的话，有一定的性能压力
- 存在个别Bug，造成恢复不能

##### Redis如何实现重写
   

     AOF文件持续增长而过大时，会fork出一条新进程来将文件重写(也是先写临时文件最后在rename),遍历新进程的内存中数据，每条记录有一条set语句。
	重写aof文件的操作，并没有读取旧得aof文件，而是将整个内存中的 数据库内容用命令的方式重写了一个新的aof文件，这和快照类似

#### Redis主从复制
    

    主从复制: 就是主机数据更新后根据配置和策略，自动同步到备机的master/slaver机制，Master以写为主，Slave以读为主
    用处：1、读写分离，性能扩展   2、容灾快速恢复

info replication 打印主从复制的相关信息
slaveof <ip> <port> 成为某个实例的从服务器

#### Redis集群
Redis集群实现了对Redis的水平扩容，即启动N个redis节点，将整个数据库分布存储在这N个节点中，每个节点存储总数据的1/N
Redis集群通过分区(partition)来提供一定程度的可用性(availability)：即使集群中有一部分节点失效或者无法进行通讯，集群也可以继续处理命令请求 

**优点：**
- 实现扩容
- 分摊压力
- 无中心配置相对简单

**缺点：**
- 多键操作是不被支持的
- 多键的Redis事务是不被支持的，lua脚本不被支持
- 代理或者客户端分片的方案想要迁移至redis cluster，需要整体迁移而不是逐步过渡，复杂度较大

#### 击穿
##### 就是说某个 key 非常热点，访问非常频繁，处于集中式高并发访问的情况，当这个 key 在失效的瞬间，大量的请求就击穿了缓存，直接请求数据库，就像是在一道屏障上凿开了一个洞，最终导致数据库崩溃

**解决方案：**
- 可以将热点数据设置为永远不过期
- 基于 redis or zookeeper 实现互斥锁，等待第一个请求构建完缓存之后，再释放锁，进而其它请求才能通过该 key 访问数据

#### 雪崩
##### 雪崩指的是多个key查询并且出现高并发，缓存中失效或者查不到，然后都去db查询，从而导致db压力突然飙升，从而崩溃
**出现原因:** 
   1. key同时失效
   2.redis本身崩溃了
   
**解决方案：**
1、对不同的key设置不同的过期时间，避免在同一时刻所有的key过期
2、对Redis和DB配置集群
3、Redis中设置永远不过期，这样就不会出现热点问题，但是也只是物理上不过期


#### ##### 穿透
###### 一般是出现这种情况是因为恶意频繁查询才会对系统造成很大的问题: key不存在并且数据库中也不存在，所以每次查询都会去查询数据库从而导致数据库崩溃
**解决方案：**
1、使用布隆过滤器：布隆过滤器可以理解为一个不怎么精确的 set 结构，当你使用它的 contains 方法判断某个对象是否存在时，它可能会误判。但是布隆过滤器也不是特别不精确，只要参数设置的合理，它的精确度可以控制的相对足够精确，只会有小小的误判概率

	**缺点: **
   	   1 会存在一定的误判率
          2  对新增加的数据无法进行布隆过滤
          3 数据的key不会频繁的更改

2、如果一个查询返回的数据为空，不管是数据不存在还是系统故障，我们仍然把这个结果进行缓存，但是它的过期时间会很短


###### Jedis
 	Jedis是Redis官方推荐的面向Java的操作Redis的客户端
```java
依赖为：<dependency>
    <groupId>redis.clients</groupId>
    <artifactId>jedis</artifactId>
    <version>3.1.0</version>
</dependency>
```
注意：Jedis不是线程安全的，在多线程中使用会出现线程安全问题，并且它的value只能是String类型

###### JedisPool
JedisPool类似线程池，它是用来管理Jedis的，并且它是线程安全的，操作和Jedis基本相同，同时value也不能是String类型

###### RedisTemplate
为了让Spring框架体系能够更加方便的接入Redis的功能，RedisTemplate其实就是Spring框架对Jedis的封装…是 spring-data-redis中使用redis的模版
依赖为：<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-data-redis</artifactId>
</dependency>

###### pom中的设置为：
redis:
 		 host: 192.168.0.110
  		 port: 6379

###### 使用方式：
```java
@Resource
private RedisTemplate<String,Map<String,Integer>> redisTemplate;
```

**注意：通过该方式存储的数据，如果直接在Redis中查询的话可能会查不到，因为数据已经被序列化。它可以存储对象和map集合类型的value**

###### StringRedisTemplate
它继承了RedisTemplate，并且重新对数据进行了序列化，在Redis中能正常查看存储的数据，当key和value都是String类型的时候可以使用该方式(String), https://picsum.photos/id/102/800/500(String), 翻译(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2020-07-21 00:47:49.773(Timestamp), 21(Long), 1(Long), 学习知识点(String), 3(Long)
2020-07-21 00:47:49.789 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.update : 143 ] - <==    Updates: 1
2020-07-21 00:47:49.794 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.insert : 143 ] - ==>  Preparing: INSERT INTO t_blog_tag ( t_blog_id, t_tag_id ) VALUES ( ?, ? ) 
2020-07-21 00:47:49.795 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.insert : 143 ] - ==> Parameters: 3(Long), 7(Long)
2020-07-21 00:47:49.796 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.insert : 143 ] - <==    Updates: 1
2020-07-21 00:47:49.798 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.insert : 143 ] - ==>  Preparing: INSERT INTO t_blog_tag ( t_blog_id, t_tag_id ) VALUES ( ?, ? ) 
2020-07-21 00:47:49.798 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.insert : 143 ] - ==> Parameters: 3(Long), 1(Long)
2020-07-21 00:47:49.799 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.insert : 143 ] - <==    Updates: 1
2020-07-21 00:47:49.808 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==>  Preparing: SELECT COUNT(1) FROM t_blog 
2020-07-21 00:47:49.809 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==> Parameters: 
2020-07-21 00:47:49.810 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog LIMIT ?,? 
2020-07-21 00:47:49.810 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==> Parameters: 0(Long), 3(Long)
2020-07-21 00:47:49.812 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - <==      Total: 3
2020-07-21 00:47:49.813 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - ==>  Preparing: SELECT id,name FROM t_type 
2020-07-21 00:47:49.813 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - ==> Parameters: 
2020-07-21 00:47:49.814 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.TypeMapper.selectList : 143 ] - <==      Total: 5
2020-07-21 16:12:51.626 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 55 ] - Starting BlogApplication on Simon with PID 1608 (D:\developProject\my-project\blog\target\classes started by 吴倩 in D:\developProject\my-project\blog)
2020-07-21 16:12:51.626 [ restartedMain ] - [ DEBUG ] [ com.simon.blog.BlogApplication : 56 ] - Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2020-07-21 16:12:51.626 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 651 ] - No active profile set, falling back to default profiles: default
2020-07-21 16:12:58.207 [ restartedMain ] - [ INFO  ] [ org.apache.coyote.http11.Http11NioProtocol : 173 ] - Initializing ProtocolHandler ["http-nio-8801"]
2020-07-21 16:12:58.219 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardService : 173 ] - Starting service [Tomcat]
2020-07-21 16:12:58.220 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardEngine : 173 ] - Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-07-21 16:12:58.425 [ restartedMain ] - [ INFO  ] [ o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] : 173 ] - Initializing Spring embedded WebApplicationContext
2020-07-21 16:12:59.940 [ restartedMain ] - [ WARN  ] [ c.b.mybatisplus.core.metadata.TableInfoHelper : 301 ] - Can not find table primary key in Class: "com.simon.blog.pojo.BlogTagRelation".
2020-07-21 16:13:03.232 [ restartedMain ] - [ INFO  ] [ org.apache.coyote.http11.Http11NioProtocol : 173 ] - Starting ProtocolHandler ["http-nio-8801"]
2020-07-21 16:13:03.277 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 61 ] - Started BlogApplication in 13.206 seconds (JVM running for 16.548)
2020-07-21 16:13:38.214 [ http-nio-8801-exec-1 ] - [ INFO  ] [ o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] : 173 ] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-07-21 16:13:38.299 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.IndexController.index', args=[{}, org.apache.catalina.connector.RequestFacade@2ba44dad]}
2020-07-21 16:13:38.400 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 110 ] - HikariPool-1 - Starting...
2020-07-21 16:13:38.848 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 123 ] - HikariPool-1 - Start completed.
2020-07-21 16:13:38.962 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==>  Preparing: SELECT COUNT(1) FROM t_blog 
2020-07-21 16:13:39.072 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==> Parameters: 
2020-07-21 16:13:39.158 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog LIMIT ?,? 
2020-07-21 16:13:39.162 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==> Parameters: 0(Long), 5(Long)
2020-07-21 16:13:39.181 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - <==      Total: 4
2020-07-21 16:13:39.189 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==>  Preparing: SELECT id,nickName,userName,password,email,avatar,type,createTime FROM t_user WHERE id=? 
2020-07-21 16:13:39.189 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:13:39.196 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:13:39.199 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.findCountTypeName : 143 ] - ==>  Preparing: select type_name, count(*) as 'count' from t_blog group by type_id order by count(*) DESC limit 5 
2020-07-21 16:13:39.200 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.findCountTypeName : 143 ] - ==> Parameters: 
2020-07-21 16:13:39.205 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.findCountTypeName : 143 ] - <==      Total: 3
2020-07-21 16:13:39.263 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectList : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE (recommend = ?) 
2020-07-21 16:13:39.264 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectList : 143 ] - ==> Parameters: 1(Integer)
2020-07-21 16:13:39.272 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectList : 143 ] - <==      Total: 4
2020-07-21 16:13:39.279 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.findCountTag : 143 ] - ==>  Preparing: select t_tag_id, COUNT(*) AS `count` from t_blog_tag group by t_tag_id order by count(*) DESC LIMIT 10 
2020-07-21 16:13:39.280 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.findCountTag : 143 ] - ==> Parameters: 
2020-07-21 16:13:39.286 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.findCountTag : 143 ] - <==      Total: 4
2020-07-21 16:13:39.289 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==>  Preparing: SELECT id,name FROM t_tag WHERE id=? 
2020-07-21 16:13:39.290 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:13:39.294 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:13:39.296 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==>  Preparing: SELECT id,name FROM t_tag WHERE id=? 
2020-07-21 16:13:39.297 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==> Parameters: 4(Long)
2020-07-21 16:13:39.299 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:13:39.304 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==>  Preparing: SELECT id,name FROM t_tag WHERE id=? 
2020-07-21 16:13:39.305 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==> Parameters: 7(Long)
2020-07-21 16:13:39.307 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:13:39.309 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==>  Preparing: SELECT id,name FROM t_tag WHERE id=? 
2020-07-21 16:13:39.310 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==> Parameters: 8(Long)
2020-07-21 16:13:39.312 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:13:39.314 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 58 ] - result : index
2020-07-21 16:13:45.834 [ http-nio-8801-exec-3 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/blog/1', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.IndexController.blog', args=[{}, 1]}
2020-07-21 16:13:45.838 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==>  Preparing: SELECT id,nickName,userName,password,email,avatar,type,createTime FROM t_user WHERE id=? 
2020-07-21 16:13:45.839 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:13:45.841 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:13:45.843 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE id=? 
2020-07-21 16:13:45.844 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:13:45.847 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:13:45.914 [ http-nio-8801-exec-3 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 58 ] - result : blog
2020-07-21 16:14:41.034 [ http-nio-8801-exec-2 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/comments', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.CommentController.post', args=[Comment(id=null, nickName=null, content=测试评论, email=false, avatar=null, createTime=null, blog_id=null, blog=Blog(id=1, title=null, description=null, content=null, firstPicture=null, flag=null, views=null, appreciation=false, shareStatement=false, commentabled=false, published=false, recommend=false, createTime=null, updateTime=null, typeId=null, userId=null, typeName=null, tagIds=null, type=null, tags=[], user=null, comments=[]), replyComments=[], parentComment=Comment(id=-1, nickName=null, content=null, email=null, avatar=null, createTime=null, blog_id=null, blog=null, replyComments=[], parentComment=null))]}
2020-07-21 16:14:41.039 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE id=? 
2020-07-21 16:14:41.040 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:14:41.044 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:14:41.062 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.insert : 143 ] - ==>  Preparing: INSERT INTO t_comment ( content, email, avatar, createTime ) VALUES ( ?, ?, ?, ? ) 
2020-07-21 16:14:41.066 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.insert : 143 ] - ==> Parameters: 测试评论(String), false(String), /image/photo.jpg(String), 2020-07-21 16:14:41.055(Timestamp)
2020-07-21 16:14:41.162 [ http-nio-8801-exec-2 ] - [ ERROR ] [ com.simon.blog.Handler.ControllerExceptionHandler : 32 ] - Request URL : http://localhost:8801/comments, Exception : {}
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLException: Field 'blog_id' doesn't have a default value
### The error may exist in com/simon/blog/dao/CommentMapper.java (best guess)
### The error may involve com.simon.blog.dao.CommentMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO t_comment  ( content, email, avatar, createTime )  VALUES  ( ?, ?, ?, ? )
### Cause: java.sql.SQLException: Field 'blog_id' doesn't have a default value
; Field 'blog_id' doesn't have a default value; nested exception is java.sql.SQLException: Field 'blog_id' doesn't have a default value
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy86.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:60)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy92.insert(Unknown Source)
	at com.simon.blog.service.Impl.CommentServiceImpl.saveComment(CommentServiceImpl.java:43)
	at com.simon.blog.service.Impl.CommentServiceImpl$$FastClassBySpringCGLIB$$2279d724.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.simon.blog.service.Impl.CommentServiceImpl$$EnhancerBySpringCGLIB$$a0788540.saveComment(<generated>)
	at com.simon.blog.web.CommentController.post(CommentController.java:43)
	at com.simon.blog.web.CommentController$$FastClassBySpringCGLIB$$cf10d89a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.simon.blog.web.CommentController$$EnhancerBySpringCGLIB$$d00a956a.post(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLException: Field 'blog_id' doesn't have a default value
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy117.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy115.update(Unknown Source)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doUpdate(MybatisSimpleExecutor.java:54)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.update(MybatisCachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 87 common frames omitted
2020-07-21 16:17:32.459 [ Thread-202 ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 350 ] - HikariPool-1 - Shutdown initiated...
2020-07-21 16:17:32.484 [ Thread-202 ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 352 ] - HikariPool-1 - Shutdown completed.
2020-07-21 16:17:32.920 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 55 ] - Starting BlogApplication on Simon with PID 1608 (D:\developProject\my-project\blog\target\classes started by 吴倩 in D:\developProject\my-project\blog)
2020-07-21 16:17:32.920 [ restartedMain ] - [ DEBUG ] [ com.simon.blog.BlogApplication : 56 ] - Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2020-07-21 16:17:32.920 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 651 ] - No active profile set, falling back to default profiles: default
2020-07-21 16:17:33.803 [ restartedMain ] - [ INFO  ] [ org.apache.coyote.http11.Http11NioProtocol : 173 ] - Initializing ProtocolHandler ["http-nio-8801"]
2020-07-21 16:17:33.804 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardService : 173 ] - Starting service [Tomcat]
2020-07-21 16:17:33.805 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardEngine : 173 ] - Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-07-21 16:17:33.842 [ restartedMain ] - [ INFO  ] [ o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] : 173 ] - Initializing Spring embedded WebApplicationContext
2020-07-21 16:17:34.079 [ restartedMain ] - [ WARN  ] [ c.b.mybatisplus.core.metadata.TableInfoHelper : 301 ] - Can not find table primary key in Class: "com.simon.blog.pojo.BlogTagRelation".
2020-07-21 16:17:36.991 [ restartedMain ] - [ INFO  ] [ org.apache.coyote.http11.Http11NioProtocol : 173 ] - Starting ProtocolHandler ["http-nio-8801"]
2020-07-21 16:17:37.012 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 61 ] - Started BlogApplication in 4.17 seconds (JVM running for 290.282)
2020-07-21 16:17:50.314 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 55 ] - Starting BlogApplication on Simon with PID 14936 (D:\developProject\my-project\blog\target\classes started by 吴倩 in D:\developProject\my-project\blog)
2020-07-21 16:17:50.319 [ restartedMain ] - [ DEBUG ] [ com.simon.blog.BlogApplication : 56 ] - Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2020-07-21 16:17:50.320 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 651 ] - No active profile set, falling back to default profiles: default
2020-07-21 16:17:53.501 [ restartedMain ] - [ INFO  ] [ org.apache.coyote.http11.Http11NioProtocol : 173 ] - Initializing ProtocolHandler ["http-nio-8801"]
2020-07-21 16:17:53.502 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardService : 173 ] - Starting service [Tomcat]
2020-07-21 16:17:53.502 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardEngine : 173 ] - Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-07-21 16:17:53.598 [ restartedMain ] - [ INFO  ] [ o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] : 173 ] - Initializing Spring embedded WebApplicationContext
2020-07-21 16:17:54.010 [ restartedMain ] - [ WARN  ] [ c.b.mybatisplus.core.metadata.TableInfoHelper : 301 ] - Can not find table primary key in Class: "com.simon.blog.pojo.BlogTagRelation".
2020-07-21 16:17:56.340 [ restartedMain ] - [ INFO  ] [ org.apache.coyote.http11.Http11NioProtocol : 173 ] - Starting ProtocolHandler ["http-nio-8801"]
2020-07-21 16:17:56.382 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 61 ] - Started BlogApplication in 7.131 seconds (JVM running for 8.759)
2020-07-21 16:23:03.397 [ http-nio-8801-exec-1 ] - [ INFO  ] [ o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] : 173 ] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-07-21 16:23:03.443 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.IndexController.index', args=[{}, org.apache.catalina.connector.RequestFacade@8beca88]}
2020-07-21 16:23:03.487 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 110 ] - HikariPool-1 - Starting...
2020-07-21 16:23:03.615 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 123 ] - HikariPool-1 - Start completed.
2020-07-21 16:23:03.654 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==>  Preparing: SELECT COUNT(1) FROM t_blog 
2020-07-21 16:23:03.680 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==> Parameters: 
2020-07-21 16:23:03.707 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog LIMIT ?,? 
2020-07-21 16:23:03.709 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==> Parameters: 0(Long), 5(Long)
2020-07-21 16:23:03.720 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - <==      Total: 4
2020-07-21 16:23:03.728 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==>  Preparing: SELECT id,nickName,userName,password,email,avatar,type,createTime FROM t_user WHERE id=? 
2020-07-21 16:23:03.729 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:23:03.733 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:23:03.735 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.findCountTypeName : 143 ] - ==>  Preparing: select type_name, count(*) as 'count' from t_blog group by type_id order by count(*) DESC limit 5 
2020-07-21 16:23:03.736 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.findCountTypeName : 143 ] - ==> Parameters: 
2020-07-21 16:23:03.737 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.findCountTypeName : 143 ] - <==      Total: 3
2020-07-21 16:23:03.769 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectList : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE (recommend = ?) 
2020-07-21 16:23:03.770 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectList : 143 ] - ==> Parameters: 1(Integer)
2020-07-21 16:23:03.775 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectList : 143 ] - <==      Total: 4
2020-07-21 16:23:03.780 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.findCountTag : 143 ] - ==>  Preparing: select t_tag_id, COUNT(*) AS `count` from t_blog_tag group by t_tag_id order by count(*) DESC LIMIT 10 
2020-07-21 16:23:03.780 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.findCountTag : 143 ] - ==> Parameters: 
2020-07-21 16:23:03.784 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.findCountTag : 143 ] - <==      Total: 4
2020-07-21 16:23:03.787 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==>  Preparing: SELECT id,name FROM t_tag WHERE id=? 
2020-07-21 16:23:03.789 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:23:03.794 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:23:03.796 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==>  Preparing: SELECT id,name FROM t_tag WHERE id=? 
2020-07-21 16:23:03.796 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==> Parameters: 7(Long)
2020-07-21 16:23:03.798 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:23:03.799 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==>  Preparing: SELECT id,name FROM t_tag WHERE id=? 
2020-07-21 16:23:03.799 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==> Parameters: 8(Long)
2020-07-21 16:23:03.801 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:23:03.802 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==>  Preparing: SELECT id,name FROM t_tag WHERE id=? 
2020-07-21 16:23:03.802 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==> Parameters: 4(Long)
2020-07-21 16:23:03.803 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:23:03.804 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 58 ] - result : index
2020-07-21 16:23:07.058 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/blog/1', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.IndexController.blog', args=[{}, 1]}
2020-07-21 16:23:07.059 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==>  Preparing: SELECT id,nickName,userName,password,email,avatar,type,createTime FROM t_user WHERE id=? 
2020-07-21 16:23:07.060 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:23:07.062 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:23:07.064 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE id=? 
2020-07-21 16:23:07.065 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:23:07.067 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:23:07.119 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 58 ] - result : blog
2020-07-21 16:23:58.327 [ http-nio-8801-exec-7 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/comments', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.CommentController.post', args=[Comment(id=null, nickName=null, content=测试评论, email=false, avatar=null, createTime=null, blog_id=null, blog=Blog(id=1, title=null, description=null, content=null, firstPicture=null, flag=null, views=null, appreciation=false, shareStatement=false, commentabled=false, published=false, recommend=false, createTime=null, updateTime=null, typeId=null, userId=null, typeName=null, tagIds=null, type=null, tags=[], user=null, comments=[]), replyComments=[], parentComment=Comment(id=-1, nickName=null, content=null, email=null, avatar=null, createTime=null, blog_id=null, blog=null, replyComments=[], parentComment=null))]}
2020-07-21 16:23:58.334 [ http-nio-8801-exec-7 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE id=? 
2020-07-21 16:23:58.335 [ http-nio-8801-exec-7 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:23:58.337 [ http-nio-8801-exec-7 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:23:58.355 [ http-nio-8801-exec-7 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.insert : 143 ] - ==>  Preparing: INSERT INTO t_comment ( content, email, avatar, createTime, blog_id ) VALUES ( ?, ?, ?, ?, ? ) 
2020-07-21 16:23:58.359 [ http-nio-8801-exec-7 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.insert : 143 ] - ==> Parameters: 测试评论(String), false(String), /image/photo.jpg(String), 2020-07-21 16:23:58.35(Timestamp), 1(Long)
2020-07-21 16:23:58.438 [ http-nio-8801-exec-7 ] - [ ERROR ] [ com.simon.blog.Handler.ControllerExceptionHandler : 32 ] - Request URL : http://localhost:8801/comments, Exception : {}
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLException: Field 'parentComment_id' doesn't have a default value
### The error may exist in com/simon/blog/dao/CommentMapper.java (best guess)
### The error may involve com.simon.blog.dao.CommentMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO t_comment  ( content, email, avatar, createTime, blog_id )  VALUES  ( ?, ?, ?, ?, ? )
### Cause: java.sql.SQLException: Field 'parentComment_id' doesn't have a default value
; Field 'parentComment_id' doesn't have a default value; nested exception is java.sql.SQLException: Field 'parentComment_id' doesn't have a default value
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy86.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:60)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy92.insert(Unknown Source)
	at com.simon.blog.service.Impl.CommentServiceImpl.saveComment(CommentServiceImpl.java:43)
	at com.simon.blog.service.Impl.CommentServiceImpl$$FastClassBySpringCGLIB$$2279d724.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.simon.blog.service.Impl.CommentServiceImpl$$EnhancerBySpringCGLIB$$580b5c93.saveComment(<generated>)
	at com.simon.blog.web.CommentController.post(CommentController.java:44)
	at com.simon.blog.web.CommentController$$FastClassBySpringCGLIB$$cf10d89a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.simon.blog.web.CommentController$$EnhancerBySpringCGLIB$$7b71621f.post(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLException: Field 'parentComment_id' doesn't have a default value
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy117.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy115.update(Unknown Source)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doUpdate(MybatisSimpleExecutor.java:54)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.update(MybatisCachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 87 common frames omitted
2020-07-21 16:28:24.017 [ Thread-202 ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 350 ] - HikariPool-1 - Shutdown initiated...
2020-07-21 16:28:24.030 [ Thread-202 ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 352 ] - HikariPool-1 - Shutdown completed.
2020-07-21 16:28:25.080 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 55 ] - Starting BlogApplication on Simon with PID 14936 (D:\developProject\my-project\blog\target\classes started by 吴倩 in D:\developProject\my-project\blog)
2020-07-21 16:28:25.081 [ restartedMain ] - [ DEBUG ] [ com.simon.blog.BlogApplication : 56 ] - Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2020-07-21 16:28:25.081 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 651 ] - No active profile set, falling back to default profiles: default
2020-07-21 16:28:27.334 [ restartedMain ] - [ INFO  ] [ org.apache.coyote.http11.Http11NioProtocol : 173 ] - Initializing ProtocolHandler ["http-nio-8801"]
2020-07-21 16:28:27.334 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardService : 173 ] - Starting service [Tomcat]
2020-07-21 16:28:27.335 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardEngine : 173 ] - Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-07-21 16:28:27.376 [ restartedMain ] - [ INFO  ] [ o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] : 173 ] - Initializing Spring embedded WebApplicationContext
2020-07-21 16:28:27.627 [ restartedMain ] - [ WARN  ] [ c.b.mybatisplus.core.metadata.TableInfoHelper : 301 ] - Can not find table primary key in Class: "com.simon.blog.pojo.BlogTagRelation".
2020-07-21 16:28:28.451 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardService : 173 ] - Stopping service [Tomcat]
2020-07-21 16:31:21.840 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 55 ] - Starting BlogApplication on Simon with PID 14936 (D:\developProject\my-project\blog\target\classes started by 吴倩 in D:\developProject\my-project\blog)
2020-07-21 16:31:21.841 [ restartedMain ] - [ DEBUG ] [ com.simon.blog.BlogApplication : 56 ] - Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2020-07-21 16:31:21.841 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 651 ] - No active profile set, falling back to default profiles: default
2020-07-21 16:31:22.800 [ restartedMain ] - [ INFO  ] [ org.apache.coyote.http11.Http11NioProtocol : 173 ] - Initializing ProtocolHandler ["http-nio-8801"]
2020-07-21 16:31:22.801 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardService : 173 ] - Starting service [Tomcat]
2020-07-21 16:31:22.801 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardEngine : 173 ] - Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-07-21 16:31:22.823 [ restartedMain ] - [ INFO  ] [ o.a.c.c.ContainerBase.[Tomcat-1].[localhost].[/] : 173 ] - Initializing Spring embedded WebApplicationContext
2020-07-21 16:31:22.973 [ restartedMain ] - [ WARN  ] [ c.b.mybatisplus.core.metadata.TableInfoHelper : 301 ] - Can not find table primary key in Class: "com.simon.blog.pojo.BlogTagRelation".
2020-07-21 16:31:24.360 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardService : 173 ] - Stopping service [Tomcat]
2020-07-21 16:31:42.715 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 55 ] - Starting BlogApplication on Simon with PID 14936 (D:\developProject\my-project\blog\target\classes started by 吴倩 in D:\developProject\my-project\blog)
2020-07-21 16:31:42.715 [ restartedMain ] - [ DEBUG ] [ com.simon.blog.BlogApplication : 56 ] - Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2020-07-21 16:31:42.715 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 651 ] - No active profile set, falling back to default profiles: default
2020-07-21 16:31:43.745 [ restartedMain ] - [ INFO  ] [ org.apache.coyote.http11.Http11NioProtocol : 173 ] - Initializing ProtocolHandler ["http-nio-8801"]
2020-07-21 16:31:43.748 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardService : 173 ] - Starting service [Tomcat]
2020-07-21 16:31:43.763 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardEngine : 173 ] - Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-07-21 16:31:43.783 [ restartedMain ] - [ INFO  ] [ o.a.c.c.ContainerBase.[Tomcat-2].[localhost].[/] : 173 ] - Initializing Spring embedded WebApplicationContext
2020-07-21 16:31:43.995 [ restartedMain ] - [ WARN  ] [ c.b.mybatisplus.core.metadata.TableInfoHelper : 301 ] - Can not find table primary key in Class: "com.simon.blog.pojo.BlogTagRelation".
2020-07-21 16:31:45.129 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardService : 173 ] - Stopping service [Tomcat]
2020-07-21 16:32:30.757 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 55 ] - Starting BlogApplication on Simon with PID 2104 (D:\developProject\my-project\blog\target\classes started by 吴倩 in D:\developProject\my-project\blog)
2020-07-21 16:32:30.762 [ restartedMain ] - [ DEBUG ] [ com.simon.blog.BlogApplication : 56 ] - Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2020-07-21 16:32:30.762 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 651 ] - No active profile set, falling back to default profiles: default
2020-07-21 16:32:33.386 [ restartedMain ] - [ INFO  ] [ org.apache.coyote.http11.Http11NioProtocol : 173 ] - Initializing ProtocolHandler ["http-nio-8801"]
2020-07-21 16:32:33.387 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardService : 173 ] - Starting service [Tomcat]
2020-07-21 16:32:33.387 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardEngine : 173 ] - Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-07-21 16:32:33.486 [ restartedMain ] - [ INFO  ] [ o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] : 173 ] - Initializing Spring embedded WebApplicationContext
2020-07-21 16:32:33.922 [ restartedMain ] - [ WARN  ] [ c.b.mybatisplus.core.metadata.TableInfoHelper : 301 ] - Can not find table primary key in Class: "com.simon.blog.pojo.BlogTagRelation".
2020-07-21 16:32:36.379 [ restartedMain ] - [ INFO  ] [ org.apache.coyote.http11.Http11NioProtocol : 173 ] - Starting ProtocolHandler ["http-nio-8801"]
2020-07-21 16:32:36.455 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 61 ] - Started BlogApplication in 6.95 seconds (JVM running for 8.578)
2020-07-21 16:33:00.466 [ http-nio-8801-exec-1 ] - [ INFO  ] [ o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] : 173 ] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-07-21 16:33:00.508 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.IndexController.index', args=[{}, org.apache.catalina.connector.RequestFacade@3ab9029a]}
2020-07-21 16:33:00.567 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 110 ] - HikariPool-1 - Starting...
2020-07-21 16:33:00.720 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 123 ] - HikariPool-1 - Start completed.
2020-07-21 16:33:00.762 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==>  Preparing: SELECT COUNT(1) FROM t_blog 
2020-07-21 16:33:00.786 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==> Parameters: 
2020-07-21 16:33:00.816 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog LIMIT ?,? 
2020-07-21 16:33:00.818 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - ==> Parameters: 0(Long), 5(Long)
2020-07-21 16:33:00.834 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectPage : 143 ] - <==      Total: 4
2020-07-21 16:33:00.840 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==>  Preparing: SELECT id,nickName,userName,password,email,avatar,type,createTime FROM t_user WHERE id=? 
2020-07-21 16:33:00.841 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:33:00.845 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:33:00.850 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.findCountTypeName : 143 ] - ==>  Preparing: select type_name, count(*) as 'count' from t_blog group by type_id order by count(*) DESC limit 5 
2020-07-21 16:33:00.851 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.findCountTypeName : 143 ] - ==> Parameters: 
2020-07-21 16:33:00.853 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.findCountTypeName : 143 ] - <==      Total: 3
2020-07-21 16:33:00.887 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectList : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE (recommend = ?) 
2020-07-21 16:33:00.887 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectList : 143 ] - ==> Parameters: 1(Integer)
2020-07-21 16:33:00.894 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectList : 143 ] - <==      Total: 4
2020-07-21 16:33:00.899 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.findCountTag : 143 ] - ==>  Preparing: select t_tag_id, COUNT(*) AS `count` from t_blog_tag group by t_tag_id order by count(*) DESC LIMIT 10 
2020-07-21 16:33:00.899 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.findCountTag : 143 ] - ==> Parameters: 
2020-07-21 16:33:00.902 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogTagMapper.findCountTag : 143 ] - <==      Total: 4
2020-07-21 16:33:00.904 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==>  Preparing: SELECT id,name FROM t_tag WHERE id=? 
2020-07-21 16:33:00.905 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:33:00.908 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:33:00.909 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==>  Preparing: SELECT id,name FROM t_tag WHERE id=? 
2020-07-21 16:33:00.910 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==> Parameters: 4(Long)
2020-07-21 16:33:00.912 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:33:00.913 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==>  Preparing: SELECT id,name FROM t_tag WHERE id=? 
2020-07-21 16:33:00.914 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==> Parameters: 7(Long)
2020-07-21 16:33:00.915 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:33:00.916 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==>  Preparing: SELECT id,name FROM t_tag WHERE id=? 
2020-07-21 16:33:00.917 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - ==> Parameters: 8(Long)
2020-07-21 16:33:00.918 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.TagMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:33:00.918 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 58 ] - result : index
2020-07-21 16:33:03.828 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/blog/1', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.IndexController.blog', args=[{}, 1]}
2020-07-21 16:33:03.831 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==>  Preparing: SELECT id,nickName,userName,password,email,avatar,type,createTime FROM t_user WHERE id=? 
2020-07-21 16:33:03.832 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:33:03.834 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:33:03.837 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE id=? 
2020-07-21 16:33:03.839 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:33:03.844 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:33:03.937 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 58 ] - result : blog
2020-07-21 16:33:23.049 [ http-nio-8801-exec-9 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/comments', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.CommentController.post', args=[Comment(id=null, nickName=null, content=测试评论, email=false, avatar=null, createTime=null, blog_id=null, parentComment_id=null, blog=Blog(id=1, title=null, description=null, content=null, firstPicture=null, flag=null, views=null, appreciation=false, shareStatement=false, commentabled=false, published=false, recommend=false, createTime=null, updateTime=null, typeId=null, userId=null, typeName=null, tagIds=null, type=null, tags=[], user=null, comments=[]), replyComments=[], parentComment=Comment(id=-1, nickName=null, content=null, email=null, avatar=null, createTime=null, blog_id=null, parentComment_id=null, blog=null, replyComments=[], parentComment=null))]}
2020-07-21 16:33:23.057 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE id=? 
2020-07-21 16:33:23.058 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:33:23.060 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:33:23.079 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.insert : 143 ] - ==>  Preparing: INSERT INTO t_comment ( content, email, avatar, createTime, blog_id ) VALUES ( ?, ?, ?, ?, ? ) 
2020-07-21 16:33:23.082 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.insert : 143 ] - ==> Parameters: 测试评论(String), false(String), /image/photo.jpg(String), 2020-07-21 16:33:23.073(Timestamp), 1(Long)
2020-07-21 16:33:23.161 [ http-nio-8801-exec-9 ] - [ ERROR ] [ com.simon.blog.Handler.ControllerExceptionHandler : 32 ] - Request URL : http://localhost:8801/comments, Exception : {}
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLException: Field 'parentComment_id' doesn't have a default value
### The error may exist in com/simon/blog/dao/CommentMapper.java (best guess)
### The error may involve com.simon.blog.dao.CommentMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO t_comment  ( content, email, avatar, createTime, blog_id )  VALUES  ( ?, ?, ?, ?, ? )
### Cause: java.sql.SQLException: Field 'parentComment_id' doesn't have a default value
; Field 'parentComment_id' doesn't have a default value; nested exception is java.sql.SQLException: Field 'parentComment_id' doesn't have a default value
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy86.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:60)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy92.insert(Unknown Source)
	at com.simon.blog.service.Impl.CommentServiceImpl.saveComment(CommentServiceImpl.java:44)
	at com.simon.blog.service.Impl.CommentServiceImpl$$FastClassBySpringCGLIB$$2279d724.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.simon.blog.service.Impl.CommentServiceImpl$$EnhancerBySpringCGLIB$$68032eae.saveComment(<generated>)
	at com.simon.blog.web.CommentController.post(CommentController.java:44)
	at com.simon.blog.web.CommentController$$FastClassBySpringCGLIB$$cf10d89a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.simon.blog.web.CommentController$$EnhancerBySpringCGLIB$$a6f50164.post(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLException: Field 'parentComment_id' doesn't have a default value
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy117.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy115.update(Unknown Source)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doUpdate(MybatisSimpleExecutor.java:54)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.update(MybatisCachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 87 common frames omitted
2020-07-21 16:34:15.788 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/blog/1', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.IndexController.blog', args=[{}, 1]}
2020-07-21 16:34:15.791 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==>  Preparing: SELECT id,nickName,userName,password,email,avatar,type,createTime FROM t_user WHERE id=? 
2020-07-21 16:34:15.792 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:34:15.793 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:34:15.796 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE id=? 
2020-07-21 16:34:15.798 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:34:15.801 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:34:15.805 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 58 ] - result : blog
2020-07-21 16:34:31.840 [ http-nio-8801-exec-3 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/comments', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.CommentController.post', args=[Comment(id=null, nickName=null, content=测试评论, email=false, avatar=null, createTime=null, blog_id=null, parentComment_id=null, blog=Blog(id=1, title=null, description=null, content=null, firstPicture=null, flag=null, views=null, appreciation=false, shareStatement=false, commentabled=false, published=false, recommend=false, createTime=null, updateTime=null, typeId=null, userId=null, typeName=null, tagIds=null, type=null, tags=[], user=null, comments=[]), replyComments=[], parentComment=Comment(id=-1, nickName=null, content=null, email=null, avatar=null, createTime=null, blog_id=null, parentComment_id=null, blog=null, replyComments=[], parentComment=null))]}
2020-07-21 16:34:31.844 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE id=? 
2020-07-21 16:34:31.846 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:34:31.850 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:34:31.855 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.insert : 143 ] - ==>  Preparing: INSERT INTO t_comment ( content, email, avatar, createTime, blog_id ) VALUES ( ?, ?, ?, ?, ? ) 
2020-07-21 16:34:31.857 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.insert : 143 ] - ==> Parameters: 测试评论(String), false(String), /image/photo.jpg(String), 2020-07-21 16:34:31.852(Timestamp), 1(Long)
2020-07-21 16:34:31.865 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.insert : 143 ] - <==    Updates: 1
2020-07-21 16:34:31.870 [ http-nio-8801-exec-3 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 58 ] - result : redirect:/comments1
2020-07-21 16:38:27.595 [ Thread-204 ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 350 ] - HikariPool-1 - Shutdown initiated...
2020-07-21 16:38:27.611 [ Thread-204 ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 352 ] - HikariPool-1 - Shutdown completed.
2020-07-21 16:38:28.025 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 55 ] - Starting BlogApplication on Simon with PID 2104 (D:\developProject\my-project\blog\target\classes started by 吴倩 in D:\developProject\my-project\blog)
2020-07-21 16:38:28.026 [ restartedMain ] - [ DEBUG ] [ com.simon.blog.BlogApplication : 56 ] - Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2020-07-21 16:38:28.026 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 651 ] - No active profile set, falling back to default profiles: default
2020-07-21 16:38:28.729 [ restartedMain ] - [ INFO  ] [ org.apache.coyote.http11.Http11NioProtocol : 173 ] - Initializing ProtocolHandler ["http-nio-8801"]
2020-07-21 16:38:28.729 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardService : 173 ] - Starting service [Tomcat]
2020-07-21 16:38:28.730 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardEngine : 173 ] - Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-07-21 16:38:28.766 [ restartedMain ] - [ INFO  ] [ o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] : 173 ] - Initializing Spring embedded WebApplicationContext
2020-07-21 16:38:28.998 [ restartedMain ] - [ WARN  ] [ c.b.mybatisplus.core.metadata.TableInfoHelper : 301 ] - Can not find table primary key in Class: "com.simon.blog.pojo.BlogTagRelation".
2020-07-21 16:38:31.632 [ restartedMain ] - [ INFO  ] [ org.apache.coyote.http11.Http11NioProtocol : 173 ] - Starting ProtocolHandler ["http-nio-8801"]
2020-07-21 16:38:31.659 [ http-nio-8801-exec-5 ] - [ INFO  ] [ o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] : 173 ] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-07-21 16:38:31.671 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 61 ] - Started BlogApplication in 3.73 seconds (JVM running for 363.793)
2020-07-21 16:38:31.683 [ http-nio-8801-exec-5 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/blog/1', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.IndexController.blog', args=[{}, 1]}
2020-07-21 16:38:31.687 [ http-nio-8801-exec-5 ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 110 ] - HikariPool-2 - Starting...
2020-07-21 16:38:31.693 [ http-nio-8801-exec-5 ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 123 ] - HikariPool-2 - Start completed.
2020-07-21 16:38:31.694 [ http-nio-8801-exec-5 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==>  Preparing: SELECT id,nickName,userName,password,email,avatar,type,createTime FROM t_user WHERE id=? 
2020-07-21 16:38:31.696 [ http-nio-8801-exec-5 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:38:31.700 [ http-nio-8801-exec-5 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:38:31.708 [ http-nio-8801-exec-5 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE id=? 
2020-07-21 16:38:31.709 [ http-nio-8801-exec-5 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:38:31.713 [ http-nio-8801-exec-5 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:38:31.725 [ http-nio-8801-exec-5 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 58 ] - result : blog
2020-07-21 16:42:01.105 [ http-nio-8801-exec-5 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/blog/1', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.IndexController.blog', args=[{}, 1]}
2020-07-21 16:42:01.107 [ http-nio-8801-exec-5 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==>  Preparing: SELECT id,nickName,userName,password,email,avatar,type,createTime FROM t_user WHERE id=? 
2020-07-21 16:42:01.108 [ http-nio-8801-exec-5 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:42:01.110 [ http-nio-8801-exec-5 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:42:01.112 [ http-nio-8801-exec-5 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE id=? 
2020-07-21 16:42:01.113 [ http-nio-8801-exec-5 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:42:01.115 [ http-nio-8801-exec-5 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:42:01.121 [ http-nio-8801-exec-5 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 58 ] - result : blog
2020-07-21 16:43:52.642 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 55 ] - Starting BlogApplication on Simon with PID 7544 (D:\developProject\my-project\blog\target\classes started by 吴倩 in D:\developProject\my-project\blog)
2020-07-21 16:43:52.642 [ restartedMain ] - [ DEBUG ] [ com.simon.blog.BlogApplication : 56 ] - Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2020-07-21 16:43:52.642 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 651 ] - No active profile set, falling back to default profiles: default
2020-07-21 16:43:54.749 [ restartedMain ] - [ INFO  ] [ org.apache.coyote.http11.Http11NioProtocol : 173 ] - Initializing ProtocolHandler ["http-nio-8801"]
2020-07-21 16:43:54.751 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardService : 173 ] - Starting service [Tomcat]
2020-07-21 16:43:54.751 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardEngine : 173 ] - Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-07-21 16:43:54.842 [ restartedMain ] - [ INFO  ] [ o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] : 173 ] - Initializing Spring embedded WebApplicationContext
2020-07-21 16:43:55.416 [ restartedMain ] - [ WARN  ] [ c.b.mybatisplus.core.metadata.TableInfoHelper : 301 ] - Can not find table primary key in Class: "com.simon.blog.pojo.BlogTagRelation".
2020-07-21 16:43:57.778 [ restartedMain ] - [ INFO  ] [ org.apache.coyote.http11.Http11NioProtocol : 173 ] - Starting ProtocolHandler ["http-nio-8801"]
2020-07-21 16:43:57.818 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 61 ] - Started BlogApplication in 6.26 seconds (JVM running for 8.624)
2020-07-21 16:49:08.505 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 55 ] - Starting BlogApplication on Simon with PID 17388 (D:\developProject\my-project\blog\target\classes started by 吴倩 in D:\developProject\my-project\blog)
2020-07-21 16:49:08.540 [ restartedMain ] - [ DEBUG ] [ com.simon.blog.BlogApplication : 56 ] - Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2020-07-21 16:49:08.546 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 651 ] - No active profile set, falling back to default profiles: default
2020-07-21 16:49:11.339 [ restartedMain ] - [ INFO  ] [ org.apache.coyote.http11.Http11NioProtocol : 173 ] - Initializing ProtocolHandler ["http-nio-8801"]
2020-07-21 16:49:11.339 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardService : 173 ] - Starting service [Tomcat]
2020-07-21 16:49:11.339 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardEngine : 173 ] - Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-07-21 16:49:11.465 [ restartedMain ] - [ INFO  ] [ o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] : 173 ] - Initializing Spring embedded WebApplicationContext
2020-07-21 16:49:12.066 [ restartedMain ] - [ WARN  ] [ c.b.mybatisplus.core.metadata.TableInfoHelper : 301 ] - Can not find table primary key in Class: "com.simon.blog.pojo.BlogTagRelation".
2020-07-21 16:49:15.591 [ restartedMain ] - [ INFO  ] [ org.apache.coyote.http11.Http11NioProtocol : 173 ] - Starting ProtocolHandler ["http-nio-8801"]
2020-07-21 16:49:15.661 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 61 ] - Started BlogApplication in 9.693 seconds (JVM running for 13.189)
2020-07-21 16:50:41.492 [ http-nio-8801-exec-1 ] - [ INFO  ] [ o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] : 173 ] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-07-21 16:50:41.566 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/blog/1', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.IndexController.blog', args=[{}, 1]}
2020-07-21 16:50:41.608 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 110 ] - HikariPool-1 - Starting...
2020-07-21 16:50:41.813 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 123 ] - HikariPool-1 - Start completed.
2020-07-21 16:50:41.835 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==>  Preparing: SELECT id,nickName,userName,password,email,avatar,type,createTime FROM t_user WHERE id=? 
2020-07-21 16:50:41.877 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:50:41.909 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:50:41.923 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE id=? 
2020-07-21 16:50:41.924 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:50:41.929 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:50:42.022 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 58 ] - result : blog
2020-07-21 16:51:08.344 [ http-nio-8801-exec-9 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/comments', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.CommentController.post', args=[Comment(id=null, nickName=null, content=你好, email=false, avatar=null, createTime=null, blog_id=null, parentComment_id=null, blog=Blog(id=1, title=null, description=null, content=null, firstPicture=null, flag=null, views=null, appreciation=false, shareStatement=false, commentabled=false, published=false, recommend=false, createTime=null, updateTime=null, typeId=null, userId=null, typeName=null, tagIds=null, type=null, tags=[], user=null, comments=[]), replyComments=[], parentComment=Comment(id=-1, nickName=null, content=null, email=null, avatar=null, createTime=null, blog_id=null, parentComment_id=null, blog=null, replyComments=[], parentComment=null))]}
2020-07-21 16:51:08.352 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE id=? 
2020-07-21 16:51:08.353 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:51:08.357 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:55:07.794 [ HikariPool-1 housekeeper ] - [ WARN  ] [ com.zaxxer.hikari.pool.HikariPool : 787 ] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m25s880ms119µs200ns).
2020-07-21 16:55:07.839 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.insert : 143 ] - ==>  Preparing: INSERT INTO t_comment ( content, email, avatar, createTime, blog_id ) VALUES ( ?, ?, ?, ?, ? ) 
2020-07-21 16:55:07.842 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.insert : 143 ] - ==> Parameters: 你好(String), false(String), /image/photo.jpg(String), 2020-07-21 16:55:07.811(Timestamp), 1(Long)
2020-07-21 16:55:07.845 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.insert : 143 ] - <==    Updates: 1
2020-07-21 16:55:07.853 [ http-nio-8801-exec-9 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 58 ] - result : redirect:/comments/1
2020-07-21 16:55:07.876 [ http-nio-8801-exec-6 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/comments/1', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.CommentController.comments', args=[1, {}]}
2020-07-21 16:55:07.919 [ http-nio-8801-exec-6 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.selectList : 143 ] - ==>  Preparing: SELECT id,nickName,content,email,avatar,createTime,blog_id,parentComment_id FROM t_comment WHERE (blog_id = ?) 
2020-07-21 16:55:07.920 [ http-nio-8801-exec-6 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.selectList : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:55:07.925 [ http-nio-8801-exec-6 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.selectList : 143 ] - <==      Total: 2
2020-07-21 16:55:07.926 [ http-nio-8801-exec-6 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 58 ] - result : blog :: commentList
2020-07-21 16:55:08.756 [ SpringContextShutdownHook ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 350 ] - HikariPool-1 - Shutdown initiated...
2020-07-21 16:55:08.766 [ SpringContextShutdownHook ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 352 ] - HikariPool-1 - Shutdown completed.
2020-07-21 16:55:19.520 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 55 ] - Starting BlogApplication on Simon with PID 17392 (D:\developProject\my-project\blog\target\classes started by 吴倩 in D:\developProject\my-project\blog)
2020-07-21 16:55:19.530 [ restartedMain ] - [ DEBUG ] [ com.simon.blog.BlogApplication : 56 ] - Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2020-07-21 16:55:19.531 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 651 ] - No active profile set, falling back to default profiles: default
2020-07-21 16:55:23.450 [ restartedMain ] - [ INFO  ] [ org.apache.coyote.http11.Http11NioProtocol : 173 ] - Initializing ProtocolHandler ["http-nio-8801"]
2020-07-21 16:55:23.452 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardService : 173 ] - Starting service [Tomcat]
2020-07-21 16:55:23.452 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardEngine : 173 ] - Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-07-21 16:55:23.582 [ restartedMain ] - [ INFO  ] [ o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] : 173 ] - Initializing Spring embedded WebApplicationContext
2020-07-21 16:55:24.137 [ restartedMain ] - [ WARN  ] [ c.b.mybatisplus.core.metadata.TableInfoHelper : 301 ] - Can not find table primary key in Class: "com.simon.blog.pojo.BlogTagRelation".
2020-07-21 16:55:28.834 [ restartedMain ] - [ INFO  ] [ org.apache.coyote.http11.Http11NioProtocol : 173 ] - Starting ProtocolHandler ["http-nio-8801"]
2020-07-21 16:55:28.886 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 61 ] - Started BlogApplication in 10.713 seconds (JVM running for 14.251)
2020-07-21 16:56:09.659 [ http-nio-8801-exec-2 ] - [ INFO  ] [ o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] : 173 ] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-07-21 16:56:09.746 [ http-nio-8801-exec-2 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/blog/1', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.IndexController.blog', args=[{}, 1]}
2020-07-21 16:56:09.792 [ http-nio-8801-exec-2 ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 110 ] - HikariPool-1 - Starting...
2020-07-21 16:56:09.995 [ http-nio-8801-exec-2 ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 123 ] - HikariPool-1 - Start completed.
2020-07-21 16:56:10.022 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==>  Preparing: SELECT id,nickName,userName,password,email,avatar,type,createTime FROM t_user WHERE id=? 
2020-07-21 16:56:10.061 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:56:10.109 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:56:10.142 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE id=? 
2020-07-21 16:56:10.144 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 16:56:10.160 [ http-nio-8801-exec-2 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 16:56:10.329 [ http-nio-8801-exec-2 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 58 ] - result : blog
2020-07-21 16:56:32.171 [ http-nio-8801-exec-9 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/comments', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.CommentController.post', args=[Comment(id=null, nickName=null, content=测试, email=simon@qq.com, avatar=null, createTime=null, blog_id=1, parentComment_id=null, blog=null, replyComments=[], parentComment=null)]}
2020-07-21 16:56:32.180 [ http-nio-8801-exec-9 ] - [ ERROR ] [ com.simon.blog.Handler.ControllerExceptionHandler : 32 ] - Request URL : http://localhost:8801/comments, Exception : {}
java.lang.NullPointerException: null
	at com.simon.blog.web.CommentController.post(CommentController.java:40)
	at com.simon.blog.web.CommentController$$FastClassBySpringCGLIB$$cf10d89a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.simon.blog.web.CommentController$$EnhancerBySpringCGLIB$$f015c1be.post(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-07-21 16:58:23.786 [ http-nio-8801-exec-2 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/comments', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.CommentController.post', args=[Comment(id=null, nickName=null, content=11111, email=simon@qq.com, avatar=null, createTime=null, blog_id=1, parentComment_id=null, blog=null, replyComments=[], parentComment=null)]}
2020-07-21 16:59:19.922 [ HikariPool-1 housekeeper ] - [ WARN  ] [ com.zaxxer.hikari.pool.HikariPool : 787 ] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m9s813ms567µs400ns).
2020-07-21 16:59:19.924 [ http-nio-8801-exec-2 ] - [ ERROR ] [ com.simon.blog.Handler.ControllerExceptionHandler : 32 ] - Request URL : http://localhost:8801/comments, Exception : {}
java.lang.NullPointerException: null
	at com.simon.blog.web.CommentController.post(CommentController.java:40)
	at com.simon.blog.web.CommentController$$FastClassBySpringCGLIB$$cf10d89a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.simon.blog.web.CommentController$$EnhancerBySpringCGLIB$$f015c1be.post(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-07-21 16:59:20.577 [ SpringContextShutdownHook ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 350 ] - HikariPool-1 - Shutdown initiated...
2020-07-21 16:59:20.587 [ SpringContextShutdownHook ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 352 ] - HikariPool-1 - Shutdown completed.
2020-07-21 16:59:58.279 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 55 ] - Starting BlogApplication on Simon with PID 3452 (D:\developProject\my-project\blog\target\classes started by 吴倩 in D:\developProject\my-project\blog)
2020-07-21 16:59:58.279 [ restartedMain ] - [ DEBUG ] [ com.simon.blog.BlogApplication : 56 ] - Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2020-07-21 16:59:58.279 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 651 ] - No active profile set, falling back to default profiles: default
2020-07-21 17:00:01.230 [ restartedMain ] - [ INFO  ] [ org.apache.coyote.http11.Http11NioProtocol : 173 ] - Initializing ProtocolHandler ["http-nio-8801"]
2020-07-21 17:00:01.230 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardService : 173 ] - Starting service [Tomcat]
2020-07-21 17:00:01.230 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardEngine : 173 ] - Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-07-21 17:00:01.467 [ restartedMain ] - [ INFO  ] [ o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] : 173 ] - Initializing Spring embedded WebApplicationContext
2020-07-21 17:00:02.059 [ restartedMain ] - [ WARN  ] [ c.b.mybatisplus.core.metadata.TableInfoHelper : 301 ] - Can not find table primary key in Class: "com.simon.blog.pojo.BlogTagRelation".
2020-07-21 17:00:04.582 [ restartedMain ] - [ INFO  ] [ org.apache.coyote.http11.Http11NioProtocol : 173 ] - Starting ProtocolHandler ["http-nio-8801"]
2020-07-21 17:00:04.661 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 61 ] - Started BlogApplication in 7.589 seconds (JVM running for 10.488)
2020-07-21 17:00:33.341 [ http-nio-8801-exec-1 ] - [ INFO  ] [ o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] : 173 ] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-07-21 17:00:33.446 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/blog/1', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.IndexController.blog', args=[{}, 1]}
2020-07-21 17:00:33.501 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 110 ] - HikariPool-1 - Starting...
2020-07-21 17:00:34.125 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 123 ] - HikariPool-1 - Start completed.
2020-07-21 17:00:34.169 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==>  Preparing: SELECT id,nickName,userName,password,email,avatar,type,createTime FROM t_user WHERE id=? 
2020-07-21 17:00:34.301 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 17:00:34.479 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 17:00:34.520 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE id=? 
2020-07-21 17:00:34.521 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 17:00:34.538 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 17:00:34.832 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 58 ] - result : blog
2020-07-21 17:00:54.713 [ http-nio-8801-exec-9 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/comments', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.CommentController.post', args=[Comment(id=null, nickName=simon, content=测试, email=simon@qq.com, avatar=null, createTime=null, blog_id=1, parentComment_id=null, blog=null, replyComments=[], parentComment=null)]}
2020-07-21 17:02:09.699 [ HikariPool-1 housekeeper ] - [ WARN  ] [ com.zaxxer.hikari.pool.HikariPool : 787 ] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m35s441ms461µs700ns).
2020-07-21 17:02:18.419 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE id=? 
2020-07-21 17:02:18.421 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 17:02:18.447 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 17:03:16.002 [ HikariPool-1 housekeeper ] - [ WARN  ] [ com.zaxxer.hikari.pool.HikariPool : 787 ] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m6s302ms723µs900ns).
2020-07-21 17:04:50.357 [ http-nio-8801-exec-9 ] - [ ERROR ] [ com.simon.blog.Handler.ControllerExceptionHandler : 32 ] - Request URL : http://localhost:8801/comments, Exception : {}
java.lang.NullPointerException: null
	at com.simon.blog.service.Impl.CommentServiceImpl.saveComment(CommentServiceImpl.java:36)
	at com.simon.blog.service.Impl.CommentServiceImpl$$FastClassBySpringCGLIB$$2279d724.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.simon.blog.service.Impl.CommentServiceImpl$$EnhancerBySpringCGLIB$$a1a82b24.saveComment(<generated>)
	at com.simon.blog.web.CommentController.post(CommentController.java:44)
	at com.simon.blog.web.CommentController$$FastClassBySpringCGLIB$$cf10d89a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.simon.blog.web.CommentController$$EnhancerBySpringCGLIB$$97875d0.post(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-07-21 17:07:10.017 [ SpringContextShutdownHook ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 350 ] - HikariPool-1 - Shutdown initiated...
2020-07-21 17:07:10.031 [ SpringContextShutdownHook ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 352 ] - HikariPool-1 - Shutdown completed.
2020-07-21 17:07:22.302 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 55 ] - Starting BlogApplication on Simon with PID 13348 (D:\developProject\my-project\blog\target\classes started by 吴倩 in D:\developProject\my-project\blog)
2020-07-21 17:07:22.312 [ restartedMain ] - [ DEBUG ] [ com.simon.blog.BlogApplication : 56 ] - Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2020-07-21 17:07:22.315 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 651 ] - No active profile set, falling back to default profiles: default
2020-07-21 17:07:25.468 [ restartedMain ] - [ INFO  ] [ org.apache.coyote.http11.Http11NioProtocol : 173 ] - Initializing ProtocolHandler ["http-nio-8801"]
2020-07-21 17:07:25.469 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardService : 173 ] - Starting service [Tomcat]
2020-07-21 17:07:25.470 [ restartedMain ] - [ INFO  ] [ org.apache.catalina.core.StandardEngine : 173 ] - Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-07-21 17:07:25.600 [ restartedMain ] - [ INFO  ] [ o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] : 173 ] - Initializing Spring embedded WebApplicationContext
2020-07-21 17:07:26.120 [ restartedMain ] - [ WARN  ] [ c.b.mybatisplus.core.metadata.TableInfoHelper : 301 ] - Can not find table primary key in Class: "com.simon.blog.pojo.BlogTagRelation".
2020-07-21 17:07:28.630 [ restartedMain ] - [ INFO  ] [ org.apache.coyote.http11.Http11NioProtocol : 173 ] - Starting ProtocolHandler ["http-nio-8801"]
2020-07-21 17:07:28.687 [ restartedMain ] - [ INFO  ] [ com.simon.blog.BlogApplication : 61 ] - Started BlogApplication in 7.763 seconds (JVM running for 10.394)
2020-07-21 17:18:02.339 [ http-nio-8801-exec-1 ] - [ INFO  ] [ o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] : 173 ] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-07-21 17:18:02.447 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/blog/1', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.IndexController.blog', args=[{}, 1]}
2020-07-21 17:18:02.503 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 110 ] - HikariPool-1 - Starting...
2020-07-21 17:18:02.752 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 123 ] - HikariPool-1 - Start completed.
2020-07-21 17:18:02.779 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==>  Preparing: SELECT id,nickName,userName,password,email,avatar,type,createTime FROM t_user WHERE id=? 
2020-07-21 17:18:02.824 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 17:18:02.868 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.UserMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 17:18:02.904 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE id=? 
2020-07-21 17:18:02.905 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 17:18:02.913 [ http-nio-8801-exec-1 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 17:18:03.078 [ http-nio-8801-exec-1 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 58 ] - result : blog
2020-07-21 17:18:21.401 [ http-nio-8801-exec-9 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/comments', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.CommentController.post', args=[Comment(id=null, nickName=simon, content=nihao , email=simon@qq.com, avatar=null, createTime=null, blog_id=1, parentComment_id=-1, blog=null, replyComments=[], parentComment=null)]}
2020-07-21 17:18:39.593 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE id=? 
2020-07-21 17:18:39.596 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 17:18:39.626 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 17:19:04.520 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.insert : 143 ] - ==>  Preparing: INSERT INTO t_comment ( nickName, content, email, avatar, createTime, blog_id ) VALUES ( ?, ?, ?, ?, ?, ? ) 
2020-07-21 17:19:04.523 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.insert : 143 ] - ==> Parameters: simon(String), nihao (String), simon@qq.com(String), /image/photo.jpg(String), 2020-07-21 17:19:03.184(Timestamp), 1(Long)
2020-07-21 17:19:04.527 [ http-nio-8801-exec-9 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.insert : 143 ] - <==    Updates: 1
2020-07-21 17:19:04.533 [ http-nio-8801-exec-9 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 58 ] - result : redirect:/comments/1
2020-07-21 17:19:04.550 [ http-nio-8801-exec-6 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/comments/1', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.CommentController.comments', args=[1, {}]}
2020-07-21 17:19:04.589 [ http-nio-8801-exec-6 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.selectList : 143 ] - ==>  Preparing: SELECT id,nickName,content,email,avatar,createTime,blog_id,parentComment_id FROM t_comment WHERE (blog_id = ?) 
2020-07-21 17:19:04.590 [ http-nio-8801-exec-6 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.selectList : 143 ] - ==> Parameters: 1(Long)
2020-07-21 17:19:04.591 [ http-nio-8801-exec-6 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.selectList : 143 ] - <==      Total: 1
2020-07-21 17:19:04.592 [ http-nio-8801-exec-6 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 58 ] - result : blog :: commentList
2020-07-21 17:30:40.309 [ http-nio-8801-exec-8 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/comments', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.CommentController.post', args=[Comment(id=null, nickName=simon, content=nihao baobei, email=simon@qq.com, avatar=null, createTime=null, blog_id=1, parentComment_id=1, blog=null, replyComments=[], parentComment=null)]}
2020-07-21 17:30:40.315 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==>  Preparing: SELECT id,title,description,content,firstPicture,flag,views,appreciation,shareStatement,commentabled,published,recommend,createTime,updateTime,type_id,user_id,type_name FROM t_blog WHERE id=? 
2020-07-21 17:30:40.316 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 17:30:40.319 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.BlogMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 17:30:40.322 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.selectById : 143 ] - ==>  Preparing: SELECT id,nickName,content,email,avatar,createTime,blog_id,parentComment_id FROM t_comment WHERE id=? 
2020-07-21 17:30:40.323 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.selectById : 143 ] - ==> Parameters: 1(Long)
2020-07-21 17:30:40.327 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.selectById : 143 ] - <==      Total: 1
2020-07-21 17:30:40.333 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.insert : 143 ] - ==>  Preparing: INSERT INTO t_comment ( nickName, content, email, avatar, createTime, blog_id, parentComment_id ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
2020-07-21 17:30:40.335 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.insert : 143 ] - ==> Parameters: simon(String), nihao baobei(String), simon@qq.com(String), /image/photo.jpg(String), 2020-07-21 17:30:40.329(Timestamp), 1(Long), 1(Long)
2020-07-21 17:30:40.343 [ http-nio-8801-exec-8 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.insert : 143 ] - <==    Updates: 1
2020-07-21 17:30:40.348 [ http-nio-8801-exec-8 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 58 ] - result : redirect:/comments/1
2020-07-21 17:30:40.373 [ http-nio-8801-exec-3 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 45 ] - Requect : {url='http://localhost:8801/comments/1', ip='0:0:0:0:0:0:0:1', classMethod='com.simon.blog.web.CommentController.comments', args=[1, {}]}
2020-07-21 17:30:40.380 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.selectList : 143 ] - ==>  Preparing: SELECT id,nickName,content,email,avatar,createTime,blog_id,parentComment_id FROM t_comment WHERE (blog_id = ?) 
2020-07-21 17:30:40.381 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.selectList : 143 ] - ==> Parameters: 1(Long)
2020-07-21 17:30:40.383 [ http-nio-8801-exec-3 ] - [ DEBUG ] [ com.simon.blog.dao.CommentMapper.selectList : 143 ] - <==      Total: 2
2020-07-21 17:30:40.384 [ http-nio-8801-exec-3 ] - [ INFO  ] [ com.simon.blog.Aspact.LogAspact : 58 ] - result : blog :: commentList
2020-07-21 17:31:40.960 [ SpringContextShutdownHook ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 350 ] - HikariPool-1 - Shutdown initiated...
2020-07-21 17:31:40.971 [ SpringContextShutdownHook ] - [ INFO  ] [ com.zaxxer.hikari.HikariDataSource : 352 ] - HikariPool-1 - Shutdown completed.
